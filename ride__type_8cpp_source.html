<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>FreeRCT: ride_type.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">FreeRCT
   </div>
   <div id="projectbrief">Build roller coasters, get rich.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ride_type.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ride__type_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* $Id$ */</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This file is part of FreeRCT.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * FreeRCT is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, version 2.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * FreeRCT is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with FreeRCT. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="stdafx_8h.html">stdafx.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="string__func_8h.html">string_func.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sprite__store_8h.html">sprite_store.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="language_8h.html">language.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sprite__store_8h.html">sprite_store.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="map_8h.html">map.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="fileio_8h.html">fileio.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ride__type_8h.html">ride_type.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bitmath_8h.html">bitmath.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="gamelevel_8h.html">gamelevel.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="window_8h.html">window.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="finances_8h.html">finances.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="random_8h.html">random.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="ride__type_8h.html#a09f4be10d8b08c149e63a0b278accfef">   43</a></span>&#160;<a class="code" href="classRidesManager.html">RidesManager</a> <a class="code" href="ride__type_8cpp.html#a09f4be10d8b08c149e63a0b278accfef">_rides_manager</a>; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="classRideType.html#ad5da49a7423a9c12ef301c43015f6930">   49</a></span>&#160;<a class="code" href="classRideType.html#ad5da49a7423a9c12ef301c43015f6930">RideType::RideType</a>(<a class="code" href="ride__type_8h.html#a7920a38ef1d6024ec5d65be22d0c3d6e">RideTypeKind</a> rtk) : kind(rtk)</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        this-&gt;<a class="code" href="classRideType.html#af0934af452c487e044af57bd7369efe3">monthly_cost</a>      = 12345; <span class="comment">// Arbitrary non-zero cost.</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        this-&gt;<a class="code" href="classRideType.html#ac6d03d2147da82c3c56b41ed6a2feba1">monthly_open_cost</a> = 12345; <span class="comment">// Arbitrary non-zero cost.</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        std::fill_n(this-&gt;<a class="code" href="classRideType.html#a7ffa6cbcc4f38daed727cf44bab8fb29">item_type</a>, <a class="code" href="ride__type_8h.html#a29c124496a1b1a3fe6e0b4f9bf12ad4b">NUMBER_ITEM_TYPES_SOLD</a>, <a class="code" href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66ba01fdd13e502d6b0befebb5714926967e">ITP_NOTHING</a>);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        std::fill_n(this-&gt;<a class="code" href="classRideType.html#a8358959a7c9cb59f7bc5cbc4a4bc6c90">item_cost</a>, <a class="code" href="ride__type_8h.html#a29c124496a1b1a3fe6e0b4f9bf12ad4b">NUMBER_ITEM_TYPES_SOLD</a>, 12345); <span class="comment">// Artbitary non-zero cost.</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        this-&gt;<a class="code" href="classRideType.html#a59b58992271c0a0d94fa6a484446f1f8">SetupStrings</a>(<span class="keyword">nullptr</span>, 0, 0, 0, 0, 0);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;}</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;RideType::~RideType()</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;}</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="classRideType.html#aa5ca44b4295d36cdec1f59f9eefdd06e">   67</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classRideType.html#aa5ca44b4295d36cdec1f59f9eefdd06e">RideType::CanMakeInstance</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="classRideType.html#a59b58992271c0a0d94fa6a484446f1f8">  101</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classRideType.html#a59b58992271c0a0d94fa6a484446f1f8">RideType::SetupStrings</a>(<a class="code" href="classTextData.html">TextData</a> *<a class="code" href="scanner__funcs_8h.html#a23c058547fbc73b5659191844a9f258c">text</a>, <a class="code" href="language_8h.html#ac1457acec7f744ff89fd1be295092a4b">StringID</a> base, <a class="code" href="language_8h.html#ac1457acec7f744ff89fd1be295092a4b">StringID</a> start, <a class="code" href="language_8h.html#ac1457acec7f744ff89fd1be295092a4b">StringID</a> end, <a class="code" href="language_8h.html#ac1457acec7f744ff89fd1be295092a4b">StringID</a> name, <a class="code" href="language_8h.html#ac1457acec7f744ff89fd1be295092a4b">StringID</a> desc)</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;{</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        this-&gt;text = <a class="code" href="classRideType.html#a89f8e7b791181633abdbe18ccbd61f9b">text</a>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        this-&gt;<a class="code" href="classRideType.html#af23ec5c06ef4937a30611ee6c9e39ebf">str_base</a> = base;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        this-&gt;<a class="code" href="classRideType.html#a1a026cc977a8980238ae40cf2dac50d3">str_start</a> = start;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        this-&gt;<a class="code" href="classRideType.html#a347a42645a2d2d71501f52c38befe7af">str_end</a> = end;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        this-&gt;<a class="code" href="classRideType.html#aaf69318f1caa555da54ffb8550bc8427">str_name</a> = name;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        this-&gt;<a class="code" href="classRideType.html#a36a1104cf147e79edb48d1f5779f3ce0">str_description</a> = desc;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="classRideType.html#af13bc40fe73337f26898beb7b932dab3">  115</a></span>&#160;<a class="code" href="language_8h.html#ac1457acec7f744ff89fd1be295092a4b">StringID</a> <a class="code" href="classRideType.html#af13bc40fe73337f26898beb7b932dab3">RideType::GetTypeName</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordflow">return</span> this-&gt;<a class="code" href="classRideType.html#aaf69318f1caa555da54ffb8550bc8427">str_name</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="classRideType.html#ab17e8ab845081de4841a2040e9e0f35d">  124</a></span>&#160;<a class="code" href="language_8h.html#ac1457acec7f744ff89fd1be295092a4b">StringID</a> <a class="code" href="classRideType.html#ab17e8ab845081de4841a2040e9e0f35d">RideType::GetTypeDescription</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordflow">return</span> this-&gt;<a class="code" href="classRideType.html#a36a1104cf147e79edb48d1f5779f3ce0">str_description</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;}</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="classRideType.html#a1c1e86b34e3286fc58182843d49365b9">  134</a></span>&#160;<a class="code" href="language_8h.html#ac1457acec7f744ff89fd1be295092a4b">StringID</a> <a class="code" href="classRideType.html#a1c1e86b34e3286fc58182843d49365b9">RideType::GetString</a>(<a class="code" href="stdafx_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> number)<span class="keyword"> const</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        assert(number &gt;= this-&gt;<a class="code" href="classRideType.html#a1a026cc977a8980238ae40cf2dac50d3">str_start</a> &amp;&amp; number &lt; this-&gt;<a class="code" href="classRideType.html#a347a42645a2d2d71501f52c38befe7af">str_end</a>);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keywordflow">return</span> this-&gt;<a class="code" href="classRideType.html#af23ec5c06ef4937a30611ee6c9e39ebf">str_base</a> + (number - this-&gt;<a class="code" href="classRideType.html#a1a026cc977a8980238ae40cf2dac50d3">str_start</a>);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="classRideInstance.html#abb23dad5d58bc2798ff3834b6852ffbf">  144</a></span>&#160;<a class="code" href="classRideInstance.html#abb23dad5d58bc2798ff3834b6852ffbf">RideInstance::RideInstance</a>(<span class="keyword">const</span> <a class="code" href="classRideType.html">RideType</a> *rt)</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;{</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        this-&gt;<a class="code" href="classRideInstance.html#af193f674d85b910cd7bae305fff3f32a">name</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        this-&gt;<a class="code" href="classRideInstance.html#a1474fde9864c8a9789bc69c06ce60554">type</a> = rt;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        this-&gt;<a class="code" href="classRideInstance.html#add13524a480df7c50acbb55f2a23d918">state</a> = <a class="code" href="ride__type_8h.html#aa45d92b6242a5e33751fac9a278eff78acc2c1f157730bc604b92fe344608df5d">RIS_ALLOCATED</a>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        this-&gt;<a class="code" href="classRideInstance.html#a7268317ec7b9e3d707f75267ec85db57">flags</a> = 0;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        this-&gt;<a class="code" href="classRideInstance.html#ad022ba9e0f01e8575c505a9fd9288dc1">recolours</a> = rt-&gt;<a class="code" href="classRideType.html#a6d5abcfa5aa8e062dde693b24d5aef07">recolours</a>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        this-&gt;<a class="code" href="classRideInstance.html#ad022ba9e0f01e8575c505a9fd9288dc1">recolours</a>.<a class="code" href="classRecolouring.html#a17a40a003d95c30db5d4c292235e8d6c">AssignRandomColours</a>();</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        std::fill_n(this-&gt;<a class="code" href="classRideInstance.html#a2cc013af20eae2fa34f05535d4c645b3">item_price</a>, <a class="code" href="ride__type_8h.html#a29c124496a1b1a3fe6e0b4f9bf12ad4b">NUMBER_ITEM_TYPES_SOLD</a>, 12345); <span class="comment">// Arbitrary non-zero amount.</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        std::fill_n(this-&gt;<a class="code" href="classRideInstance.html#a70d81828daa0ca29719c61b57bb9254c">item_count</a>, <a class="code" href="ride__type_8h.html#a29c124496a1b1a3fe6e0b4f9bf12ad4b">NUMBER_ITEM_TYPES_SOLD</a>, 0);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        this-&gt;<a class="code" href="classRideInstance.html#a68bbc9eabf094b84b9c1eef712f0ea28">reliability</a> = 365 / 2; <span class="comment">// \todo Make different reliabilities for different rides; read from RCDs</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        this-&gt;<a class="code" href="classRideInstance.html#aeefcb36020aa4500bfe438ace3e682b7">breakdown_ctr</a> = -1;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        this-&gt;<a class="code" href="classRideInstance.html#a4626c77b02bf9aeb123a13dfcf61bbd4">breakdown_state</a> = <a class="code" href="ride__type_8h.html#a8858bf5173c06c00741c0990189cdc6da6a4bc3a2219e8bea6d23a6720bc53f50">BDS_UNOPENED</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;RideInstance::~RideInstance()</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;{</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="comment">/* Nothing to do currently. In the future, free instance memory. */</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="classRideInstance.html#af187b2634a24756124d414639344a50f">  169</a></span>&#160;<a class="code" href="ride__type_8h.html#a7920a38ef1d6024ec5d65be22d0c3d6e">RideTypeKind</a> <a class="code" href="classRideInstance.html#af187b2634a24756124d414639344a50f">RideInstance::GetKind</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="keywordflow">return</span> this-&gt;<a class="code" href="classRideInstance.html#a1474fde9864c8a9789bc69c06ce60554">type</a>-&gt;<a class="code" href="classRideType.html#acf5f7d1b00f5303570472b4c178433b2">kind</a>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="classRideInstance.html#a8bf8312ed4d9a642f1729f06044cf347">  178</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classRideType.html">RideType</a> *<a class="code" href="classRideInstance.html#a8bf8312ed4d9a642f1729f06044cf347">RideInstance::GetRideType</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordflow">return</span> this-&gt;<a class="code" href="classRideInstance.html#a1474fde9864c8a9789bc69c06ce60554">type</a>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;}</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="classRideInstance.html#a2b2f31c567df029ae5e6c90ffbb5a37c">  208</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classRideInstance.html#a2b2f31c567df029ae5e6c90ffbb5a37c">RideInstance::CanBeVisited</a>(<a class="code" href="stdafx_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> xvox, <a class="code" href="stdafx_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> yvox, <a class="code" href="stdafx_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> zvox, <a class="code" href="group__map__group.html#ga29bb8f9503c34074bad3c762c92ee68b">TileEdge</a> edge)<span class="keyword"> const</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classRideInstance.html#add13524a480df7c50acbb55f2a23d918">state</a> != <a class="code" href="ride__type_8h.html#aa45d92b6242a5e33751fac9a278eff78a4cf084e00636bad973c0d0e59147a813">RIS_OPEN</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="bitmath_8h.html#aa017116a7fddd59bc588d2b927c4854d">GB</a>(this-&gt;<a class="code" href="classRideInstance.html#a0a7b0f52dbe935f77556f95a81f5cb2e">GetEntranceDirections</a>(xvox, yvox, zvox), (edge + 2) % 4, 1) != 0;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="classRideInstance.html#ad32ec17efa670e1440bbc7774e93ff70">  218</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classRideInstance.html#ad32ec17efa670e1440bbc7774e93ff70">RideInstance::SellItem</a>(<span class="keywordtype">int</span> item_index)</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;{</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        assert(item_index &gt;= 0 &amp;&amp; item_index &lt; <a class="code" href="ride__type_8h.html#a29c124496a1b1a3fe6e0b4f9bf12ad4b">NUMBER_ITEM_TYPES_SOLD</a>);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        this-&gt;<a class="code" href="classRideInstance.html#a70d81828daa0ca29719c61b57bb9254c">item_count</a>[item_index]++;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <a class="code" href="classMoney.html">Money</a> profit = this-&gt;<a class="code" href="classRideInstance.html#a2cc013af20eae2fa34f05535d4c645b3">item_price</a>[item_index] - this-&gt;<a class="code" href="classRideInstance.html#a1474fde9864c8a9789bc69c06ce60554">type</a>-&gt;<a class="code" href="classRideType.html#a8358959a7c9cb59f7bc5cbc4a4bc6c90">item_cost</a>[item_index];</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        this-&gt;<a class="code" href="classRideInstance.html#a5be93628b521928436153c9aaee97338">total_sell_profit</a> += profit;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        this-&gt;<a class="code" href="classRideInstance.html#a7454652c60d5406a0d13472f6cc74698">total_profit</a> += profit;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <a class="code" href="finances_8cpp.html#a5a25af1dd8e496d9a08b1ae26faf09d4">_finances_manager</a>.<a class="code" href="classFinancesManager.html#a1f2afd606ce203f3e02a5eaa2bfde862">PayShopStock</a>(this-&gt;<a class="code" href="classRideInstance.html#a1474fde9864c8a9789bc69c06ce60554">type</a>-&gt;<a class="code" href="classRideType.html#a8358959a7c9cb59f7bc5cbc4a4bc6c90">item_cost</a>[item_index]);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <a class="code" href="finances_8cpp.html#a5a25af1dd8e496d9a08b1ae26faf09d4">_finances_manager</a>.<a class="code" href="classFinancesManager.html#aef290e7b899a4da7cbf7ac7ab0d1fda5">EarnShopSales</a>(this-&gt;<a class="code" href="classRideInstance.html#a2cc013af20eae2fa34f05535d4c645b3">item_price</a>[item_index]);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <a class="code" href="window_8cpp.html#a4e83041d9bb7c20fe3f7e8e389b2b416">NotifyChange</a>(<a class="code" href="group__window__group.html#gga58ad3159a8b1f24a1d3497efcd541b69a177e9f3bb0f5524d3191053517bd2a73">WC_SHOP_MANAGER</a>, this-&gt;<a class="code" href="classRideInstance.html#a1d78c57c48c6b66ea1a6a3bf8d5fd3ce">GetIndex</a>(), <a class="code" href="window_8h.html#aab6fa040b57445f74c311c245079e741ab19bc71581a6b4e1daabe96c82fcd168">CHG_DISPLAY_OLD</a>, 0);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;}</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="classRideInstance.html#a1d42a36c633f563526bc78f6cae28b7d">  237</a></span>&#160;<a class="code" href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66b">ItemType</a> <a class="code" href="classRideInstance.html#a1d42a36c633f563526bc78f6cae28b7d">RideInstance::GetSaleItemType</a>(<span class="keywordtype">int</span> item_index)<span class="keyword"> const</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        assert(item_index &gt;= 0 &amp;&amp; item_index &lt; <a class="code" href="ride__type_8h.html#a29c124496a1b1a3fe6e0b4f9bf12ad4b">NUMBER_ITEM_TYPES_SOLD</a>);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keywordflow">return</span> this-&gt;<a class="code" href="classRideInstance.html#a1474fde9864c8a9789bc69c06ce60554">type</a>-&gt;<a class="code" href="classRideType.html#a7ffa6cbcc4f38daed727cf44bab8fb29">item_type</a>[item_index];</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;}</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="classRideInstance.html#af9f31b160422660a6c14b281655db97a">  248</a></span>&#160;<a class="code" href="classMoney.html">Money</a> <a class="code" href="classRideInstance.html#af9f31b160422660a6c14b281655db97a">RideInstance::GetSaleItemPrice</a>(<span class="keywordtype">int</span> item_index)<span class="keyword"> const</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        assert(item_index &gt;= 0 &amp;&amp; item_index &lt; <a class="code" href="ride__type_8h.html#a29c124496a1b1a3fe6e0b4f9bf12ad4b">NUMBER_ITEM_TYPES_SOLD</a>);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="keywordflow">return</span> this-&gt;<a class="code" href="classRideInstance.html#a2cc013af20eae2fa34f05535d4c645b3">item_price</a>[item_index];</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;}</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="classRideInstance.html#abd195952fcc3193d1befa1871d9c18eb">  258</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classRideInstance.html#abd195952fcc3193d1befa1871d9c18eb">RideInstance::OnAnimate</a>(<span class="keywordtype">int</span> delay)</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;{</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;}</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="classRideInstance.html#a6d3b0b1c2df82580da529abc06c9b036">  263</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classRideInstance.html#a6d3b0b1c2df82580da529abc06c9b036">RideInstance::OnNewMonth</a>()</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;{</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        this-&gt;<a class="code" href="classRideInstance.html#a7454652c60d5406a0d13472f6cc74698">total_profit</a> -= this-&gt;<a class="code" href="classRideInstance.html#a1474fde9864c8a9789bc69c06ce60554">type</a>-&gt;<a class="code" href="classRideType.html#af0934af452c487e044af57bd7369efe3">monthly_cost</a>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <a class="code" href="finances_8cpp.html#a5a25af1dd8e496d9a08b1ae26faf09d4">_finances_manager</a>.<a class="code" href="classFinancesManager.html#a7fb5ec855b53dfc254fe8a749766c151">PayStaffWages</a>(this-&gt;<a class="code" href="classRideInstance.html#a1474fde9864c8a9789bc69c06ce60554">type</a>-&gt;<a class="code" href="classRideType.html#af0934af452c487e044af57bd7369efe3">monthly_cost</a>);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <a class="code" href="bitmath_8h.html#a8e76f796cf6ea83dfc84932acd1571b7">SB</a>(this-&gt;<a class="code" href="classRideInstance.html#a7268317ec7b9e3d707f75267ec85db57">flags</a>, <a class="code" href="ride__type_8h.html#ad459ed82ff6dba2328daa812aad56f03a1a88afcb692b3d7c6c13960733ec457d">RIF_MONTHLY_PAID</a>, 1, 1);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classRideInstance.html#add13524a480df7c50acbb55f2a23d918">state</a> == <a class="code" href="ride__type_8h.html#aa45d92b6242a5e33751fac9a278eff78a4cf084e00636bad973c0d0e59147a813">RIS_OPEN</a>) {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                this-&gt;<a class="code" href="classRideInstance.html#a7454652c60d5406a0d13472f6cc74698">total_profit</a> -= this-&gt;<a class="code" href="classRideInstance.html#a1474fde9864c8a9789bc69c06ce60554">type</a>-&gt;<a class="code" href="classRideType.html#ac6d03d2147da82c3c56b41ed6a2feba1">monthly_open_cost</a>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                <a class="code" href="finances_8cpp.html#a5a25af1dd8e496d9a08b1ae26faf09d4">_finances_manager</a>.<a class="code" href="classFinancesManager.html#a7fb5ec855b53dfc254fe8a749766c151">PayStaffWages</a>(this-&gt;<a class="code" href="classRideInstance.html#a1474fde9864c8a9789bc69c06ce60554">type</a>-&gt;<a class="code" href="classRideType.html#ac6d03d2147da82c3c56b41ed6a2feba1">monthly_open_cost</a>);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                <a class="code" href="bitmath_8h.html#a8e76f796cf6ea83dfc84932acd1571b7">SB</a>(this-&gt;<a class="code" href="classRideInstance.html#a7268317ec7b9e3d707f75267ec85db57">flags</a>, <a class="code" href="ride__type_8h.html#ad459ed82ff6dba2328daa812aad56f03aef74233ccbcf586cd189a080cfcd32d1">RIF_OPENED_PAID</a>, 1, 1);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                <a class="code" href="bitmath_8h.html#a8e76f796cf6ea83dfc84932acd1571b7">SB</a>(this-&gt;<a class="code" href="classRideInstance.html#a7268317ec7b9e3d707f75267ec85db57">flags</a>, <a class="code" href="ride__type_8h.html#ad459ed82ff6dba2328daa812aad56f03aef74233ccbcf586cd189a080cfcd32d1">RIF_OPENED_PAID</a>, 1, 0);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <a class="code" href="window_8cpp.html#a4e83041d9bb7c20fe3f7e8e389b2b416">NotifyChange</a>(<a class="code" href="group__window__group.html#gga58ad3159a8b1f24a1d3497efcd541b69a177e9f3bb0f5524d3191053517bd2a73">WC_SHOP_MANAGER</a>, this-&gt;<a class="code" href="classRideInstance.html#a1d78c57c48c6b66ea1a6a3bf8d5fd3ce">GetIndex</a>(), <a class="code" href="window_8h.html#aab6fa040b57445f74c311c245079e741ab19bc71581a6b4e1daabe96c82fcd168">CHG_DISPLAY_OLD</a>, 0);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;}</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="classRideInstance.html#a85940fca67549880bfb814e42779da0f">  280</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classRideInstance.html#a85940fca67549880bfb814e42779da0f">RideInstance::OnNewDay</a>()</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;{</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        this-&gt;<a class="code" href="classRideInstance.html#a066964b97ccda15132eddb8fd6a7aace">HandleBreakdown</a>();</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="classRideInstance.html#a066964b97ccda15132eddb8fd6a7aace">  286</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classRideInstance.html#a066964b97ccda15132eddb8fd6a7aace">RideInstance::HandleBreakdown</a>()</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;{</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classRideInstance.html#add13524a480df7c50acbb55f2a23d918">state</a> != <a class="code" href="ride__type_8h.html#aa45d92b6242a5e33751fac9a278eff78a4cf084e00636bad973c0d0e59147a813">RIS_OPEN</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordflow">switch</span> (this-&gt;<a class="code" href="classRideInstance.html#a4626c77b02bf9aeb123a13dfcf61bbd4">breakdown_state</a>) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="ride__type_8h.html#a8858bf5173c06c00741c0990189cdc6da6a4bc3a2219e8bea6d23a6720bc53f50">BDS_UNOPENED</a>:</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="ride__type_8h.html#a8858bf5173c06c00741c0990189cdc6daace28728dc681573e7a9efde3d7a195b">BDS_BROKEN</a>:</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="ride__type_8h.html#a8858bf5173c06c00741c0990189cdc6dad3e85e9912d8e6a38de772e1a5a98557">BDS_NEEDS_NEW_CTR</a>:</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                        this-&gt;<a class="code" href="classRideInstance.html#aeefcb36020aa4500bfe438ace3e682b7">breakdown_ctr</a> = this-&gt;<a class="code" href="classRideInstance.html#a441b6d235c54521dee3251c3536c18ae">rnd</a>.<a class="code" href="classRandom.html#a05fa6c79dfd3d10b966a87142bb2e97a">Exponential</a>(this-&gt;<a class="code" href="classRideInstance.html#a68bbc9eabf094b84b9c1eef712f0ea28">reliability</a>);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                        this-&gt;<a class="code" href="classRideInstance.html#a4626c77b02bf9aeb123a13dfcf61bbd4">breakdown_state</a> = <a class="code" href="ride__type_8h.html#a8858bf5173c06c00741c0990189cdc6da299842a39a0879ecc51ad14f568a1d05">BDS_WILL_BREAK</a>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="ride__type_8h.html#a8858bf5173c06c00741c0990189cdc6da299842a39a0879ecc51ad14f568a1d05">BDS_WILL_BREAK</a>:</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                        this-&gt;<a class="code" href="classRideInstance.html#aeefcb36020aa4500bfe438ace3e682b7">breakdown_ctr</a>--;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                        <a class="code" href="stdafx_8h.html#a6c2edf1e500e498b687567418bf4fef6">NOT_REACHED</a>();</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classRideInstance.html#aeefcb36020aa4500bfe438ace3e682b7">breakdown_ctr</a> &lt;= 0) {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                this-&gt;<a class="code" href="classRideInstance.html#a4626c77b02bf9aeb123a13dfcf61bbd4">breakdown_state</a> = <a class="code" href="ride__type_8h.html#a8858bf5173c06c00741c0990189cdc6daace28728dc681573e7a9efde3d7a195b">BDS_BROKEN</a>;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                <span class="comment">/* \todo Call a mechanic. */</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;}</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="classRideInstance.html#a01ade9df86c4f0408f4debcb27fcc444">  318</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classRideInstance.html#a01ade9df86c4f0408f4debcb27fcc444">RideInstance::OpenRide</a>()</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;{</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        assert(this-&gt;<a class="code" href="classRideInstance.html#add13524a480df7c50acbb55f2a23d918">state</a> == <a class="code" href="ride__type_8h.html#aa45d92b6242a5e33751fac9a278eff78aac0f9572dacce40864e9b8f600d4af0d">RIS_CLOSED</a>);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        this-&gt;<a class="code" href="classRideInstance.html#add13524a480df7c50acbb55f2a23d918">state</a> = <a class="code" href="ride__type_8h.html#aa45d92b6242a5e33751fac9a278eff78a4cf084e00636bad973c0d0e59147a813">RIS_OPEN</a>;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classRideInstance.html#a4626c77b02bf9aeb123a13dfcf61bbd4">breakdown_state</a> == <a class="code" href="ride__type_8h.html#a8858bf5173c06c00741c0990189cdc6da6a4bc3a2219e8bea6d23a6720bc53f50">BDS_UNOPENED</a>) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                this-&gt;<a class="code" href="classRideInstance.html#aeefcb36020aa4500bfe438ace3e682b7">breakdown_ctr</a> = this-&gt;<a class="code" href="classRideInstance.html#a441b6d235c54521dee3251c3536c18ae">rnd</a>.<a class="code" href="classRandom.html#a05fa6c79dfd3d10b966a87142bb2e97a">Exponential</a>(this-&gt;<a class="code" href="classRideInstance.html#a68bbc9eabf094b84b9c1eef712f0ea28">reliability</a>) + <a class="code" href="ride__type_8h.html#a2e6c1ccbeb17fd700078bbb37d25ba96">BREAKDOWN_GRACE_PERIOD</a>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                this-&gt;<a class="code" href="classRideInstance.html#a4626c77b02bf9aeb123a13dfcf61bbd4">breakdown_state</a> = <a class="code" href="ride__type_8h.html#a8858bf5173c06c00741c0990189cdc6da299842a39a0879ecc51ad14f568a1d05">BDS_WILL_BREAK</a>;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="comment">/* Perform payments if they have not been done this month. */</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="keywordtype">bool</span> money_paid = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="bitmath_8h.html#aa017116a7fddd59bc588d2b927c4854d">GB</a>(this-&gt;<a class="code" href="classRideInstance.html#a7268317ec7b9e3d707f75267ec85db57">flags</a>, <a class="code" href="ride__type_8h.html#ad459ed82ff6dba2328daa812aad56f03a1a88afcb692b3d7c6c13960733ec457d">RIF_MONTHLY_PAID</a>, 1) == 0) {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                this-&gt;<a class="code" href="classRideInstance.html#a7454652c60d5406a0d13472f6cc74698">total_profit</a> -= this-&gt;<a class="code" href="classRideInstance.html#a1474fde9864c8a9789bc69c06ce60554">type</a>-&gt;<a class="code" href="classRideType.html#af0934af452c487e044af57bd7369efe3">monthly_cost</a>;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                <a class="code" href="finances_8cpp.html#a5a25af1dd8e496d9a08b1ae26faf09d4">_finances_manager</a>.<a class="code" href="classFinancesManager.html#a7fb5ec855b53dfc254fe8a749766c151">PayStaffWages</a>(this-&gt;<a class="code" href="classRideInstance.html#a1474fde9864c8a9789bc69c06ce60554">type</a>-&gt;<a class="code" href="classRideType.html#af0934af452c487e044af57bd7369efe3">monthly_cost</a>);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                <a class="code" href="bitmath_8h.html#a8e76f796cf6ea83dfc84932acd1571b7">SB</a>(this-&gt;<a class="code" href="classRideInstance.html#a7268317ec7b9e3d707f75267ec85db57">flags</a>, <a class="code" href="ride__type_8h.html#ad459ed82ff6dba2328daa812aad56f03a1a88afcb692b3d7c6c13960733ec457d">RIF_MONTHLY_PAID</a>, 1, 1);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                money_paid = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="bitmath_8h.html#aa017116a7fddd59bc588d2b927c4854d">GB</a>(this-&gt;<a class="code" href="classRideInstance.html#a7268317ec7b9e3d707f75267ec85db57">flags</a>, <a class="code" href="ride__type_8h.html#ad459ed82ff6dba2328daa812aad56f03aef74233ccbcf586cd189a080cfcd32d1">RIF_OPENED_PAID</a>, 1) == 0) {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                this-&gt;<a class="code" href="classRideInstance.html#a7454652c60d5406a0d13472f6cc74698">total_profit</a> -= this-&gt;<a class="code" href="classRideInstance.html#a1474fde9864c8a9789bc69c06ce60554">type</a>-&gt;<a class="code" href="classRideType.html#ac6d03d2147da82c3c56b41ed6a2feba1">monthly_open_cost</a>;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                <a class="code" href="finances_8cpp.html#a5a25af1dd8e496d9a08b1ae26faf09d4">_finances_manager</a>.<a class="code" href="classFinancesManager.html#a7fb5ec855b53dfc254fe8a749766c151">PayStaffWages</a>(this-&gt;<a class="code" href="classRideInstance.html#a1474fde9864c8a9789bc69c06ce60554">type</a>-&gt;<a class="code" href="classRideType.html#ac6d03d2147da82c3c56b41ed6a2feba1">monthly_open_cost</a>);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                <a class="code" href="bitmath_8h.html#a8e76f796cf6ea83dfc84932acd1571b7">SB</a>(this-&gt;<a class="code" href="classRideInstance.html#a7268317ec7b9e3d707f75267ec85db57">flags</a>, <a class="code" href="ride__type_8h.html#ad459ed82ff6dba2328daa812aad56f03aef74233ccbcf586cd189a080cfcd32d1">RIF_OPENED_PAID</a>, 1, 1);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                money_paid = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="keywordflow">if</span> (money_paid) <a class="code" href="window_8cpp.html#a4e83041d9bb7c20fe3f7e8e389b2b416">NotifyChange</a>(<a class="code" href="group__window__group.html#gga58ad3159a8b1f24a1d3497efcd541b69a177e9f3bb0f5524d3191053517bd2a73">WC_SHOP_MANAGER</a>, this-&gt;<a class="code" href="classRideInstance.html#a1d78c57c48c6b66ea1a6a3bf8d5fd3ce">GetIndex</a>(), <a class="code" href="window_8h.html#aab6fa040b57445f74c311c245079e741ab19bc71581a6b4e1daabe96c82fcd168">CHG_DISPLAY_OLD</a>, 0);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;}</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div>
<div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="classRideInstance.html#ae5a40793161b5ec2264bae87094bb077">  349</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classRideInstance.html#ae5a40793161b5ec2264bae87094bb077">RideInstance::CloseRide</a>()</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;{</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        this-&gt;<a class="code" href="classRideInstance.html#add13524a480df7c50acbb55f2a23d918">state</a> = <a class="code" href="ride__type_8h.html#aa45d92b6242a5e33751fac9a278eff78aac0f9572dacce40864e9b8f600d4af0d">RIS_CLOSED</a>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;}</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div>
<div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="classRideInstance.html#ad0728a2508f08be469570d981b3ba561">  358</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classRideInstance.html#ad0728a2508f08be469570d981b3ba561">RideInstance::BuildRide</a>()</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;{</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        assert(this-&gt;<a class="code" href="classRideInstance.html#add13524a480df7c50acbb55f2a23d918">state</a> != <a class="code" href="ride__type_8h.html#aa45d92b6242a5e33751fac9a278eff78a4cf084e00636bad973c0d0e59147a813">RIS_OPEN</a>);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        this-&gt;<a class="code" href="classRideInstance.html#add13524a480df7c50acbb55f2a23d918">state</a> = <a class="code" href="ride__type_8h.html#aa45d92b6242a5e33751fac9a278eff78a6ca5073ccf98f0a97ce27e971bb9ca80">RIS_BUILDING</a>;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;}</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="classRidesManager.html#abf47efc9de8b98f89429f321708c05b2">  365</a></span>&#160;<a class="code" href="classRidesManager.html#abf47efc9de8b98f89429f321708c05b2">RidesManager::RidesManager</a>()</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;{</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        std::fill_n(this-&gt;<a class="code" href="classRidesManager.html#a2ccdd8dae32ee0224ac2db838928c28b">ride_types</a>, <a class="code" href="stdafx_8h.html#ae72e6e2ae552a721f8916813a92f723b">lengthof</a>(this-&gt;<a class="code" href="classRidesManager.html#a2ccdd8dae32ee0224ac2db838928c28b">ride_types</a>), <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        std::fill_n(this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>, <a class="code" href="stdafx_8h.html#ae72e6e2ae552a721f8916813a92f723b">lengthof</a>(this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>), <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;}</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;RidesManager::~RidesManager()</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;{</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="stdafx_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; <a class="code" href="stdafx_8h.html#ae72e6e2ae552a721f8916813a92f723b">lengthof</a>(this-&gt;<a class="code" href="classRidesManager.html#a2ccdd8dae32ee0224ac2db838928c28b">ride_types</a>); i++) <span class="keyword">delete</span> this-&gt;<a class="code" href="classRidesManager.html#a2ccdd8dae32ee0224ac2db838928c28b">ride_types</a>[i];</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="stdafx_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; <a class="code" href="stdafx_8h.html#ae72e6e2ae552a721f8916813a92f723b">lengthof</a>(this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>); i++) <span class="keyword">delete</span> this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>[i];</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;}</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno"><a class="line" href="classRidesManager.html#a805df5bbe0b4246539d251c0de30a058">  381</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classRidesManager.html#a805df5bbe0b4246539d251c0de30a058">RidesManager::OnAnimate</a>(<span class="keywordtype">int</span> delay)</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;{</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="stdafx_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> i = 0; i &lt; <a class="code" href="stdafx_8h.html#ae72e6e2ae552a721f8916813a92f723b">lengthof</a>(this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>); i++) {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>[i] == <span class="keyword">nullptr</span> || this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>[i]-&gt;state == <a class="code" href="ride__type_8h.html#aa45d92b6242a5e33751fac9a278eff78acc2c1f157730bc604b92fe344608df5d">RIS_ALLOCATED</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>[i]-&gt;<a class="code" href="classRideInstance.html#abd195952fcc3193d1befa1871d9c18eb">OnAnimate</a>(delay);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;}</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div>
<div class="line"><a name="l00390"></a><span class="lineno"><a class="line" href="classRidesManager.html#a56b265db880765bb8e4538bd6301a29a">  390</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classRidesManager.html#a56b265db880765bb8e4538bd6301a29a">RidesManager::OnNewMonth</a>()</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;{</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="stdafx_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> i = 0; i &lt; <a class="code" href="stdafx_8h.html#ae72e6e2ae552a721f8916813a92f723b">lengthof</a>(this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>); i++) {</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>[i] == <span class="keyword">nullptr</span> || this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>[i]-&gt;state == <a class="code" href="ride__type_8h.html#aa45d92b6242a5e33751fac9a278eff78acc2c1f157730bc604b92fe344608df5d">RIS_ALLOCATED</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>[i]-&gt;<a class="code" href="classRideInstance.html#a6d3b0b1c2df82580da529abc06c9b036">OnNewMonth</a>();</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        }</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;}</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div>
<div class="line"><a name="l00399"></a><span class="lineno"><a class="line" href="classRidesManager.html#acfc250879e897a131440669337542364">  399</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classRidesManager.html#acfc250879e897a131440669337542364">RidesManager::OnNewDay</a>()</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;{</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="stdafx_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> i = 0; i &lt; <a class="code" href="stdafx_8h.html#ae72e6e2ae552a721f8916813a92f723b">lengthof</a>(this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>); i++) {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>[i] == <span class="keyword">nullptr</span> || this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>[i]-&gt;state == <a class="code" href="ride__type_8h.html#aa45d92b6242a5e33751fac9a278eff78acc2c1f157730bc604b92fe344608df5d">RIS_ALLOCATED</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>[i]-&gt;<a class="code" href="classRideInstance.html#a85940fca67549880bfb814e42779da0f">OnNewDay</a>();</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;}</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div>
<div class="line"><a name="l00412"></a><span class="lineno"><a class="line" href="classRidesManager.html#aa779068f98207a4bb13fe3ad7e16efa0">  412</a></span>&#160;<a class="code" href="classRideInstance.html">RideInstance</a> *<a class="code" href="classRidesManager.html#aa779068f98207a4bb13fe3ad7e16efa0">RidesManager::GetRideInstance</a>(<a class="code" href="stdafx_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> num)</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;{</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        assert(num &gt;= <a class="code" href="map_8h.html#ada9f0c1420f66f999469d82ef2262280ae3bfbce4590e9566985d32b115b851d7">SRI_FULL_RIDES</a> &amp;&amp; num &lt; <a class="code" href="map_8h.html#ada9f0c1420f66f999469d82ef2262280a0b5caed9b75886c2a1d3cbb967f7181a">SRI_LAST</a>);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        num -= <a class="code" href="map_8h.html#ada9f0c1420f66f999469d82ef2262280ae3bfbce4590e9566985d32b115b851d7">SRI_FULL_RIDES</a>;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="keywordflow">if</span> (num &gt;= <a class="code" href="stdafx_8h.html#ae72e6e2ae552a721f8916813a92f723b">lengthof</a>(this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>)) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="keywordflow">return</span> this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>[num];</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;}</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div>
<div class="line"><a name="l00425"></a><span class="lineno"><a class="line" href="classRidesManager.html#a84a301918fe076090437360ca0b987f7">  425</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classRideInstance.html">RideInstance</a> *<a class="code" href="classRidesManager.html#aa779068f98207a4bb13fe3ad7e16efa0">RidesManager::GetRideInstance</a>(<a class="code" href="stdafx_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> num)<span class="keyword"> const</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        assert(num &gt;= <a class="code" href="map_8h.html#ada9f0c1420f66f999469d82ef2262280ae3bfbce4590e9566985d32b115b851d7">SRI_FULL_RIDES</a> &amp;&amp; num &lt; <a class="code" href="map_8h.html#ada9f0c1420f66f999469d82ef2262280a0b5caed9b75886c2a1d3cbb967f7181a">SRI_LAST</a>);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        num -= <a class="code" href="map_8h.html#ada9f0c1420f66f999469d82ef2262280ae3bfbce4590e9566985d32b115b851d7">SRI_FULL_RIDES</a>;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="keywordflow">if</span> (num &gt;= <a class="code" href="stdafx_8h.html#ae72e6e2ae552a721f8916813a92f723b">lengthof</a>(this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>)) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <span class="keywordflow">return</span> this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>[num];</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;}</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div>
<div class="line"><a name="l00437"></a><span class="lineno"><a class="line" href="classRideInstance.html#a1d78c57c48c6b66ea1a6a3bf8d5fd3ce">  437</a></span>&#160;<a class="code" href="stdafx_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="classRideInstance.html#a1d78c57c48c6b66ea1a6a3bf8d5fd3ce">RideInstance::GetIndex</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="stdafx_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; <a class="code" href="stdafx_8h.html#ae72e6e2ae552a721f8916813a92f723b">lengthof</a>(_rides_manager.<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>); i++) {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                <span class="keywordflow">if</span> (_rides_manager.<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>[i] == <span class="keyword">this</span>) <span class="keywordflow">return</span> i + <a class="code" href="map_8h.html#ada9f0c1420f66f999469d82ef2262280ae3bfbce4590e9566985d32b115b851d7">SRI_FULL_RIDES</a>;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <a class="code" href="stdafx_8h.html#a6c2edf1e500e498b687567418bf4fef6">NOT_REACHED</a>();</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;}</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div>
<div class="line"><a name="l00450"></a><span class="lineno"><a class="line" href="classRidesManager.html#af15b7d312cc737b40edd26007a57334e">  450</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classRidesManager.html#af15b7d312cc737b40edd26007a57334e">RidesManager::AddRideType</a>(<a class="code" href="classRideType.html">RideType</a> *type)</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;{</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="stdafx_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; <a class="code" href="stdafx_8h.html#ae72e6e2ae552a721f8916813a92f723b">lengthof</a>(this-&gt;<a class="code" href="classRidesManager.html#a2ccdd8dae32ee0224ac2db838928c28b">ride_types</a>); i++) {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classRidesManager.html#a2ccdd8dae32ee0224ac2db838928c28b">ride_types</a>[i] == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                        this-&gt;<a class="code" href="classRidesManager.html#a2ccdd8dae32ee0224ac2db838928c28b">ride_types</a>[i] = type;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;}</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div>
<div class="line"><a name="l00466"></a><span class="lineno"><a class="line" href="classRidesManager.html#a45ba6ebff60ebb390c99febe5dd1e231">  466</a></span>&#160;<a class="code" href="stdafx_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="code" href="classRidesManager.html#a45ba6ebff60ebb390c99febe5dd1e231">RidesManager::GetFreeInstance</a>(<span class="keyword">const</span> <a class="code" href="classRideType.html">RideType</a> *type)</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;{</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <a class="code" href="stdafx_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> idx;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="keywordflow">for</span> (idx = 0; idx &lt; <a class="code" href="stdafx_8h.html#ae72e6e2ae552a721f8916813a92f723b">lengthof</a>(this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>); idx++) {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>[idx] == <span class="keyword">nullptr</span>) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        }</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordflow">return</span> (idx &lt; <a class="code" href="stdafx_8h.html#ae72e6e2ae552a721f8916813a92f723b">lengthof</a>(this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>) &amp;&amp; type-&gt;<a class="code" href="classRideType.html#aa5ca44b4295d36cdec1f59f9eefdd06e">CanMakeInstance</a>()) ? idx + <a class="code" href="map_8h.html#ada9f0c1420f66f999469d82ef2262280ae3bfbce4590e9566985d32b115b851d7">SRI_FULL_RIDES</a> : <a class="code" href="ride__type_8h.html#a4cf3c03a141e04aea3c805a9e97f1835">INVALID_RIDE_INSTANCE</a>;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;}</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div>
<div class="line"><a name="l00481"></a><span class="lineno"><a class="line" href="classRidesManager.html#a35c05ae060e85fb6df7a7220cd282384">  481</a></span>&#160;<a class="code" href="classRideInstance.html">RideInstance</a> *<a class="code" href="classRidesManager.html#a35c05ae060e85fb6df7a7220cd282384">RidesManager::CreateInstance</a>(<span class="keyword">const</span> <a class="code" href="classRideType.html">RideType</a> *type, <a class="code" href="stdafx_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> num)</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;{</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        assert(num &gt;= <a class="code" href="map_8h.html#ada9f0c1420f66f999469d82ef2262280ae3bfbce4590e9566985d32b115b851d7">SRI_FULL_RIDES</a> &amp;&amp; num &lt; <a class="code" href="map_8h.html#ada9f0c1420f66f999469d82ef2262280a0b5caed9b75886c2a1d3cbb967f7181a">SRI_LAST</a>);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        num -= <a class="code" href="map_8h.html#ada9f0c1420f66f999469d82ef2262280ae3bfbce4590e9566985d32b115b851d7">SRI_FULL_RIDES</a>;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        assert(num &lt; <a class="code" href="stdafx_8h.html#ae72e6e2ae552a721f8916813a92f723b">lengthof</a>(this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>));</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        assert(this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>[num] == <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>[num] = type-&gt;<a class="code" href="classRideType.html#af467932b8b7d044ffb4fcbd1cbe703bf">CreateInstance</a>();</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <span class="keywordflow">return</span> this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>[num];</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;}</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div>
<div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="classRidesManager.html#a6c0058e7e1b495226cf4e45c47630ea5">  496</a></span>&#160;<a class="code" href="classRideInstance.html">RideInstance</a> *<a class="code" href="classRidesManager.html#a6c0058e7e1b495226cf4e45c47630ea5">RidesManager::FindRideByName</a>(<span class="keyword">const</span> <a class="code" href="stdafx_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> *name)</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;{</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="stdafx_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> i = 0; i &lt; <a class="code" href="stdafx_8h.html#ae72e6e2ae552a721f8916813a92f723b">lengthof</a>(this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>); i++) {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>[i] == <span class="keyword">nullptr</span> || this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>[i]-&gt;state == <a class="code" href="ride__type_8h.html#aa45d92b6242a5e33751fac9a278eff78acc2c1f157730bc604b92fe344608df5d">RIS_ALLOCATED</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="string__func_8cpp.html#aea2981466a89290dc408f8769d3bee01">StrEqual</a>(name, this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>[i]-&gt;name)) <span class="keywordflow">return</span> this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>[i];</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        }</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;}</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div>
<div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="classRidesManager.html#a8e368759cff2cd27366b7b9f4b2cd648">  509</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classRidesManager.html#a8e368759cff2cd27366b7b9f4b2cd648">RidesManager::NewInstanceAdded</a>(<a class="code" href="stdafx_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> num)</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;{</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <a class="code" href="classRideInstance.html">RideInstance</a> *ri = this-&gt;<a class="code" href="classRidesManager.html#aa779068f98207a4bb13fe3ad7e16efa0">GetRideInstance</a>(num);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keyword">const</span> <a class="code" href="classRideType.html">RideType</a> *rt = ri-&gt;<a class="code" href="classRideInstance.html#a8bf8312ed4d9a642f1729f06044cf347">GetRideType</a>();</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        assert(ri-&gt;<a class="code" href="classRideInstance.html#add13524a480df7c50acbb55f2a23d918">state</a> == <a class="code" href="ride__type_8h.html#aa45d92b6242a5e33751fac9a278eff78acc2c1f157730bc604b92fe344608df5d">RIS_ALLOCATED</a>);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <span class="comment">/* Find a new name for the instance. */</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="keyword">const</span> <a class="code" href="language_8h.html#ac1457acec7f744ff89fd1be295092a4b">StringID</a> *names = rt-&gt;<a class="code" href="classRideType.html#a22cfc2a4de8a4e3f2512d21a01ab29c6">GetInstanceNames</a>();</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        assert(names != <span class="keyword">nullptr</span> &amp;&amp; names[0] != <a class="code" href="language_8h.html#ad036a1e65b4bdd8fae40d77d7324512aa942647b68e5a28d558a5453961acc5f2">STR_INVALID</a>); <span class="comment">// Empty array of names loops forever below.</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keywordtype">int</span> idx = 0;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="keywordtype">int</span> shop_num = 1;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                <span class="keywordflow">if</span> (names[idx] == <a class="code" href="language_8h.html#ad036a1e65b4bdd8fae40d77d7324512aa942647b68e5a28d558a5453961acc5f2">STR_INVALID</a>) {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                        shop_num++;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                        idx = 0;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                <span class="comment">/* Construct a new name. */</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                <span class="keywordflow">if</span> (shop_num == 1) {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                        <a class="code" href="language_8cpp.html#afc2b7b9cfc7418dd7361eaf223510299">DrawText</a>(rt-&gt;<a class="code" href="classRideType.html#a1c1e86b34e3286fc58182843d49365b9">GetString</a>(names[idx]), ri-&gt;<a class="code" href="classRideInstance.html#af193f674d85b910cd7bae305fff3f32a">name</a>, <a class="code" href="stdafx_8h.html#ae72e6e2ae552a721f8916813a92f723b">lengthof</a>(ri-&gt;<a class="code" href="classRideInstance.html#af193f674d85b910cd7bae305fff3f32a">name</a>));</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                        <a class="code" href="language_8cpp.html#a5a93b93f6a99cbbe267095bc8e370017">_str_params</a>.<a class="code" href="structStringParameters.html#aac6b4647649203b7c91d25f3abe939ff">SetStrID</a>(1, rt-&gt;<a class="code" href="classRideType.html#a1c1e86b34e3286fc58182843d49365b9">GetString</a>(names[idx]));</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                        <a class="code" href="language_8cpp.html#a5a93b93f6a99cbbe267095bc8e370017">_str_params</a>.<a class="code" href="structStringParameters.html#a8ecda8fcb8889ef0c8b79042b780da3c">SetNumber</a>(2, shop_num);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                        <a class="code" href="language_8cpp.html#afc2b7b9cfc7418dd7361eaf223510299">DrawText</a>(GUI_NUMBERED_INSTANCE_NAME, ri-&gt;<a class="code" href="classRideInstance.html#af193f674d85b910cd7bae305fff3f32a">name</a>, <a class="code" href="stdafx_8h.html#ae72e6e2ae552a721f8916813a92f723b">lengthof</a>(ri-&gt;<a class="code" href="classRideInstance.html#af193f674d85b910cd7bae305fff3f32a">name</a>));</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                }</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classRidesManager.html#a6c0058e7e1b495226cf4e45c47630ea5">FindRideByName</a>(ri-&gt;<a class="code" href="classRideInstance.html#af193f674d85b910cd7bae305fff3f32a">name</a>) == <span class="keyword">nullptr</span>) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                idx++;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <span class="comment">/* Initialize money and counters. */</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        ri-&gt;<a class="code" href="classRideInstance.html#a7454652c60d5406a0d13472f6cc74698">total_profit</a> = 0;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        ri-&gt;<a class="code" href="classRideInstance.html#a5be93628b521928436153c9aaee97338">total_sell_profit</a> = 0;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="ride__type_8h.html#a29c124496a1b1a3fe6e0b4f9bf12ad4b">NUMBER_ITEM_TYPES_SOLD</a>; i++) {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                ri-&gt;<a class="code" href="classRideInstance.html#a2cc013af20eae2fa34f05535d4c645b3">item_price</a>[i] = rt-&gt;<a class="code" href="classRideType.html#a8358959a7c9cb59f7bc5cbc4a4bc6c90">item_cost</a>[i] * 12 / 10; <span class="comment">// Make 20% profit.</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                ri-&gt;<a class="code" href="classRideInstance.html#a70d81828daa0ca29719c61b57bb9254c">item_count</a>[i] = 0;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        }</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <span class="keywordflow">switch</span> (ri-&gt;<a class="code" href="classRideInstance.html#af187b2634a24756124d414639344a50f">GetKind</a>()) {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="ride__type_8h.html#a7920a38ef1d6024ec5d65be22d0c3d6ea601a3d6676990bba5aa8efaf582f5bad">RTK_SHOP</a>:</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                        ri-&gt;<a class="code" href="classRideInstance.html#ae5a40793161b5ec2264bae87094bb077">CloseRide</a>();</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="ride__type_8h.html#a7920a38ef1d6024ec5d65be22d0c3d6eaada35e5165e40de4c1c47ca5fe0a4da2">RTK_COASTER</a>:</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                        ri-&gt;<a class="code" href="classRideInstance.html#ad0728a2508f08be469570d981b3ba561">BuildRide</a>();</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                        <a class="code" href="stdafx_8h.html#a6c2edf1e500e498b687567418bf4fef6">NOT_REACHED</a>(); </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        }</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;}</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div>
<div class="line"><a name="l00568"></a><span class="lineno"><a class="line" href="classRidesManager.html#aeaa33852526a740190bf42f670d0abd4">  568</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classRidesManager.html#aeaa33852526a740190bf42f670d0abd4">RidesManager::DeleteInstance</a>(<a class="code" href="stdafx_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> num)</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;{</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        assert(num &gt;= <a class="code" href="map_8h.html#ada9f0c1420f66f999469d82ef2262280ae3bfbce4590e9566985d32b115b851d7">SRI_FULL_RIDES</a> &amp;&amp; num &lt; <a class="code" href="map_8h.html#ada9f0c1420f66f999469d82ef2262280a0b5caed9b75886c2a1d3cbb967f7181a">SRI_LAST</a>);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        num -= <a class="code" href="map_8h.html#ada9f0c1420f66f999469d82ef2262280ae3bfbce4590e9566985d32b115b851d7">SRI_FULL_RIDES</a>;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        assert(num &lt; <a class="code" href="stdafx_8h.html#ae72e6e2ae552a721f8916813a92f723b">lengthof</a>(this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>));</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <span class="keyword">delete</span> this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>[num];</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>[num] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;}</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div>
<div class="line"><a name="l00581"></a><span class="lineno"><a class="line" href="classRidesManager.html#acebb8b3f4cfde5ad8fce8155cc9bbd1d">  581</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classRidesManager.html#acebb8b3f4cfde5ad8fce8155cc9bbd1d">RidesManager::CheckNoAllocatedRides</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="stdafx_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; <a class="code" href="stdafx_8h.html#ae72e6e2ae552a721f8916813a92f723b">lengthof</a>(this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>); i++) {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                assert(this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>[i] == <span class="keyword">nullptr</span> || this-&gt;<a class="code" href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">instances</a>[i]-&gt;state != <a class="code" href="ride__type_8h.html#aa45d92b6242a5e33751fac9a278eff78acc2c1f157730bc604b92fe344608df5d">RIS_ALLOCATED</a>);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;}</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div>
<div class="line"><a name="l00597"></a><span class="lineno"><a class="line" href="ride__type_8h.html#ad0197331de2c07730a513a74574121d7">  597</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classRideInstance.html">RideInstance</a> *<a class="code" href="ride__type_8cpp.html#ad0197331de2c07730a513a74574121d7">RideExistsAtBottom</a>(<span class="keywordtype">int</span> xpos, <span class="keywordtype">int</span> ypos, <span class="keywordtype">int</span> zpos, <a class="code" href="group__map__group.html#ga29bb8f9503c34074bad3c762c92ee68b">TileEdge</a> edge)</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;{</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        xpos += <a class="code" href="tile_8h.html#aab8ddb59473b78057c550ca54ac16a5a">_tile_dxy</a>[edge].<a class="code" href="structPoint.html#af0836c7f2eec563aa7bc20d8cfa5dd2a">x</a>;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        ypos += <a class="code" href="tile_8h.html#aab8ddb59473b78057c550ca54ac16a5a">_tile_dxy</a>[edge].<a class="code" href="structPoint.html#a56c3dcea91f03182921eea9a5cf555a3">y</a>;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="map_8h.html#ad107e1bcd4b496ccf8b24ca7b68f4f68">IsVoxelstackInsideWorld</a>(xpos, ypos)) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="keyword">const</span> <a class="code" href="structVoxel.html">Voxel</a> *vx = <a class="code" href="group__map__group.html#gae1beaf14b9effb4a54e82830c7b36616">_world</a>.<a class="code" href="classVoxelWorld.html#a43447d39f61e5d921cb647e44e139258">GetVoxel</a>(xpos, ypos, zpos);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="keywordflow">if</span> (vx == <span class="keyword">nullptr</span> || vx-&gt;<a class="code" href="structVoxel.html#a78ee7c8c8e8e62d18733aed8c28cba56">GetInstance</a>() &lt; <a class="code" href="map_8h.html#ada9f0c1420f66f999469d82ef2262280ae3bfbce4590e9566985d32b115b851d7">SRI_FULL_RIDES</a>) {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                <span class="comment">/* No ride here, check the voxel below. */</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                <span class="keywordflow">if</span> (zpos == 0) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                vx = <a class="code" href="group__map__group.html#gae1beaf14b9effb4a54e82830c7b36616">_world</a>.<a class="code" href="classVoxelWorld.html#a43447d39f61e5d921cb647e44e139258">GetVoxel</a>(xpos, ypos, zpos - 1);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        }</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <span class="keywordflow">if</span> (vx == <span class="keyword">nullptr</span> || vx-&gt;<a class="code" href="structVoxel.html#a78ee7c8c8e8e62d18733aed8c28cba56">GetInstance</a>() &lt; <a class="code" href="map_8h.html#ada9f0c1420f66f999469d82ef2262280ae3bfbce4590e9566985d32b115b851d7">SRI_FULL_RIDES</a>) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="keywordflow">return</span> _rides_manager.<a class="code" href="classRidesManager.html#aa779068f98207a4bb13fe3ad7e16efa0">GetRideInstance</a>(vx-&gt;<a class="code" href="structVoxel.html#a78ee7c8c8e8e62d18733aed8c28cba56">GetInstance</a>());</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;}</div>
<div class="ttc" id="finances_8cpp_html_a5a25af1dd8e496d9a08b1ae26faf09d4"><div class="ttname"><a href="finances_8cpp.html#a5a25af1dd8e496d9a08b1ae26faf09d4">_finances_manager</a></div><div class="ttdeci">FinancesManager _finances_manager</div><div class="ttdoc">Storage and retrieval of park financial records. </div><div class="ttdef"><b>Definition:</b> <a href="finances_8cpp_source.html#l00021">finances.cpp:21</a></div></div>
<div class="ttc" id="classRideType_html_ad5da49a7423a9c12ef301c43015f6930"><div class="ttname"><a href="classRideType.html#ad5da49a7423a9c12ef301c43015f6930">RideType::RideType</a></div><div class="ttdeci">RideType(RideTypeKind rtk)</div><div class="ttdoc">Ride type base class constructor. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00049">ride_type.cpp:49</a></div></div>
<div class="ttc" id="classRideInstance_html_a1474fde9864c8a9789bc69c06ce60554"><div class="ttname"><a href="classRideInstance.html#a1474fde9864c8a9789bc69c06ce60554">RideInstance::type</a></div><div class="ttdeci">const RideType * type</div><div class="ttdoc">Ride type used. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00163">ride_type.h:163</a></div></div>
<div class="ttc" id="ride__type_8h_html"><div class="ttname"><a href="ride__type_8h.html">ride_type.h</a></div><div class="ttdoc">Available types of rides. </div></div>
<div class="ttc" id="ride__type_8h_html_a8858bf5173c06c00741c0990189cdc6da299842a39a0879ecc51ad14f568a1d05"><div class="ttname"><a href="ride__type_8h.html#a8858bf5173c06c00741c0990189cdc6da299842a39a0879ecc51ad14f568a1d05">BDS_WILL_BREAK</a></div><div class="ttdoc">Ride will break at some point in the future. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00113">ride_type.h:113</a></div></div>
<div class="ttc" id="classRidesManager_html_a56b265db880765bb8e4538bd6301a29a"><div class="ttname"><a href="classRidesManager.html#a56b265db880765bb8e4538bd6301a29a">RidesManager::OnNewMonth</a></div><div class="ttdeci">void OnNewMonth()</div><div class="ttdoc">A new month has started; perform monthly payments. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00390">ride_type.cpp:390</a></div></div>
<div class="ttc" id="classVoxelWorld_html_a43447d39f61e5d921cb647e44e139258"><div class="ttname"><a href="classVoxelWorld.html#a43447d39f61e5d921cb647e44e139258">VoxelWorld::GetVoxel</a></div><div class="ttdeci">const Voxel * GetVoxel(uint16 x, uint16 y, int16 z) const </div><div class="ttdoc">Get a voxel in the world by voxel coordinate. </div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00520">map.h:520</a></div></div>
<div class="ttc" id="classFinancesManager_html_a7fb5ec855b53dfc254fe8a749766c151"><div class="ttname"><a href="classFinancesManager.html#a7fb5ec855b53dfc254fe8a749766c151">FinancesManager::PayStaffWages</a></div><div class="ttdeci">void PayStaffWages(const Money &amp;m)</div><div class="ttdoc">Access method for monthly transactions. </div><div class="ttdef"><b>Definition:</b> <a href="finances_8h_source.html#l00140">finances.h:140</a></div></div>
<div class="ttc" id="window_8h_html"><div class="ttname"><a href="window_8h.html">window.h</a></div><div class="ttdoc">Window handling data structures. </div></div>
<div class="ttc" id="scanner__funcs_8h_html_a23c058547fbc73b5659191844a9f258c"><div class="ttname"><a href="scanner__funcs_8h.html#a23c058547fbc73b5659191844a9f258c">text</a></div><div class="ttdeci">std::string text</div><div class="ttdoc">Temporary storage for a string. </div></div>
<div class="ttc" id="ride__type_8cpp_html_a09f4be10d8b08c149e63a0b278accfef"><div class="ttname"><a href="ride__type_8cpp.html#a09f4be10d8b08c149e63a0b278accfef">_rides_manager</a></div><div class="ttdeci">RidesManager _rides_manager</div><div class="ttdoc">Storage and retrieval of ride types and rides in the park. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00043">ride_type.cpp:43</a></div></div>
<div class="ttc" id="ride__type_8h_html_a443f647757dde85043b49343f5cbe66ba01fdd13e502d6b0befebb5714926967e"><div class="ttname"><a href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66ba01fdd13e502d6b0befebb5714926967e">ITP_NOTHING</a></div><div class="ttdoc">Dummy item to denote nothing can be bought. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00054">ride_type.h:54</a></div></div>
<div class="ttc" id="structStringParameters_html_a8ecda8fcb8889ef0c8b79042b780da3c"><div class="ttname"><a href="structStringParameters.html#a8ecda8fcb8889ef0c8b79042b780da3c">StringParameters::SetNumber</a></div><div class="ttdeci">void SetNumber(int num, int64 number)</div><div class="ttdoc">Mark string parameter num to contain a number. </div><div class="ttdef"><b>Definition:</b> <a href="language_8cpp_source.html#l00114">language.cpp:114</a></div></div>
<div class="ttc" id="classRideType_html_a1c1e86b34e3286fc58182843d49365b9"><div class="ttname"><a href="classRideType.html#a1c1e86b34e3286fc58182843d49365b9">RideType::GetString</a></div><div class="ttdeci">StringID GetString(uint16 number) const </div><div class="ttdoc">Get the string instance for the generic ride string of number. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00134">ride_type.cpp:134</a></div></div>
<div class="ttc" id="classRideType_html_af13bc40fe73337f26898beb7b932dab3"><div class="ttname"><a href="classRideType.html#af13bc40fe73337f26898beb7b932dab3">RideType::GetTypeName</a></div><div class="ttdeci">StringID GetTypeName() const </div><div class="ttdoc">Retrieve the string with the name of this type of ride. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00115">ride_type.cpp:115</a></div></div>
<div class="ttc" id="classRideType_html_aa5ca44b4295d36cdec1f59f9eefdd06e"><div class="ttname"><a href="classRideType.html#aa5ca44b4295d36cdec1f59f9eefdd06e">RideType::CanMakeInstance</a></div><div class="ttdeci">virtual bool CanMakeInstance() const </div><div class="ttdoc">Are all resources available for building an instance of this type? For example, are all sprites avail...</div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00067">ride_type.cpp:67</a></div></div>
<div class="ttc" id="classRideType_html_a6d5abcfa5aa8e062dde693b24d5aef07"><div class="ttname"><a href="classRideType.html#a6d5abcfa5aa8e062dde693b24d5aef07">RideType::recolours</a></div><div class="ttdeci">Recolouring recolours</div><div class="ttdoc">Sprite recolour map. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00078">ride_type.h:78</a></div></div>
<div class="ttc" id="language_8cpp_html_a5a93b93f6a99cbbe267095bc8e370017"><div class="ttname"><a href="language_8cpp.html#a5a93b93f6a99cbbe267095bc8e370017">_str_params</a></div><div class="ttdeci">StringParameters _str_params</div><div class="ttdoc">Default string parameters. </div><div class="ttdef"><b>Definition:</b> <a href="language_8cpp_source.html#l00026">language.cpp:26</a></div></div>
<div class="ttc" id="map_8h_html_ada9f0c1420f66f999469d82ef2262280a0b5caed9b75886c2a1d3cbb967f7181a"><div class="ttname"><a href="map_8h.html#ada9f0c1420f66f999469d82ef2262280a0b5caed9b75886c2a1d3cbb967f7181a">SRI_LAST</a></div><div class="ttdoc">Biggest possible ride number. </div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00047">map.h:47</a></div></div>
<div class="ttc" id="bitmath_8h_html_a8e76f796cf6ea83dfc84932acd1571b7"><div class="ttname"><a href="bitmath_8h.html#a8e76f796cf6ea83dfc84932acd1571b7">SB</a></div><div class="ttdeci">static T SB(T &amp;x, const uint8 s, const uint8 n, const U d)</div><div class="ttdoc">Set n bits in x starting at bit s to d. </div><div class="ttdef"><b>Definition:</b> <a href="bitmath_8h_source.html#l00058">bitmath.h:58</a></div></div>
<div class="ttc" id="classRideInstance_html_a6d3b0b1c2df82580da529abc06c9b036"><div class="ttname"><a href="classRideInstance.html#a6d3b0b1c2df82580da529abc06c9b036">RideInstance::OnNewMonth</a></div><div class="ttdeci">void OnNewMonth()</div><div class="ttdoc">Monthly update of the shop administration. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00263">ride_type.cpp:263</a></div></div>
<div class="ttc" id="stdafx_8h_html_a05f6b0ae8f6a6e135b0e290c25fe0e4e"><div class="ttname"><a href="stdafx_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a></div><div class="ttdeci">unsigned short uint16</div><div class="ttdoc">Unsigned 16 bit wide data type. </div><div class="ttdef"><b>Definition:</b> <a href="stdafx_8h_source.html#l00132">stdafx.h:132</a></div></div>
<div class="ttc" id="classRidesManager_html_aa779068f98207a4bb13fe3ad7e16efa0"><div class="ttname"><a href="classRidesManager.html#aa779068f98207a4bb13fe3ad7e16efa0">RidesManager::GetRideInstance</a></div><div class="ttdeci">RideInstance * GetRideInstance(uint16 num)</div><div class="ttdoc">Get the requested ride instance. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00412">ride_type.cpp:412</a></div></div>
<div class="ttc" id="classRideInstance_html_af193f674d85b910cd7bae305fff3f32a"><div class="ttname"><a href="classRideInstance.html#af193f674d85b910cd7bae305fff3f32a">RideInstance::name</a></div><div class="ttdeci">uint8 name[64]</div><div class="ttdoc">Name of the ride, if it is instantiated. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00148">ride_type.h:148</a></div></div>
<div class="ttc" id="classRidesManager_html_af15b7d312cc737b40edd26007a57334e"><div class="ttname"><a href="classRidesManager.html#af15b7d312cc737b40edd26007a57334e">RidesManager::AddRideType</a></div><div class="ttdeci">bool AddRideType(RideType *type)</div><div class="ttdoc">Add a new ride type to the manager. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00450">ride_type.cpp:450</a></div></div>
<div class="ttc" id="bitmath_8h_html"><div class="ttname"><a href="bitmath_8h.html">bitmath.h</a></div><div class="ttdoc">Bit math functions. </div></div>
<div class="ttc" id="structStringParameters_html_aac6b4647649203b7c91d25f3abe939ff"><div class="ttname"><a href="structStringParameters.html#aac6b4647649203b7c91d25f3abe939ff">StringParameters::SetStrID</a></div><div class="ttdeci">void SetStrID(int num, StringID strid)</div><div class="ttdoc">Mark string parameter num to contain a parameter-less string. </div><div class="ttdef"><b>Definition:</b> <a href="language_8cpp_source.html#l00099">language.cpp:99</a></div></div>
<div class="ttc" id="classRideType_html_af23ec5c06ef4937a30611ee6c9e39ebf"><div class="ttname"><a href="classRideType.html#af23ec5c06ef4937a30611ee6c9e39ebf">RideType::str_base</a></div><div class="ttdeci">StringID str_base</div><div class="ttdoc">Base offset of the string in the ride type. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00088">ride_type.h:88</a></div></div>
<div class="ttc" id="classRideInstance_html_a01ade9df86c4f0408f4debcb27fcc444"><div class="ttname"><a href="classRideInstance.html#a01ade9df86c4f0408f4debcb27fcc444">RideInstance::OpenRide</a></div><div class="ttdeci">void OpenRide()</div><div class="ttdoc">Open the ride for the public. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00318">ride_type.cpp:318</a></div></div>
<div class="ttc" id="ride__type_8h_html_a29c124496a1b1a3fe6e0b4f9bf12ad4b"><div class="ttname"><a href="ride__type_8h.html#a29c124496a1b1a3fe6e0b4f9bf12ad4b">NUMBER_ITEM_TYPES_SOLD</a></div><div class="ttdeci">static const int NUMBER_ITEM_TYPES_SOLD</div><div class="ttdoc">Number of different items that a ride can sell. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00023">ride_type.h:23</a></div></div>
<div class="ttc" id="classRideType_html_aaf69318f1caa555da54ffb8550bc8427"><div class="ttname"><a href="classRideType.html#aaf69318f1caa555da54ffb8550bc8427">RideType::str_name</a></div><div class="ttdeci">StringID str_name</div><div class="ttdoc">String with the name of the ride type. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00091">ride_type.h:91</a></div></div>
<div class="ttc" id="classFinancesManager_html_a1f2afd606ce203f3e02a5eaa2bfde862"><div class="ttname"><a href="classFinancesManager.html#a1f2afd606ce203f3e02a5eaa2bfde862">FinancesManager::PayShopStock</a></div><div class="ttdeci">void PayShopStock(const Money &amp;m)</div><div class="ttdoc">Access method for monthly transactions. </div><div class="ttdef"><b>Definition:</b> <a href="finances_8h_source.html#l00120">finances.h:120</a></div></div>
<div class="ttc" id="string__func_8h_html"><div class="ttname"><a href="string__func_8h.html">string_func.h</a></div><div class="ttdoc">Safe string functions. </div></div>
<div class="ttc" id="classRideInstance_html_aeefcb36020aa4500bfe438ace3e682b7"><div class="ttname"><a href="classRideInstance.html#aeefcb36020aa4500bfe438ace3e682b7">RideInstance::breakdown_ctr</a></div><div class="ttdeci">int16 breakdown_ctr</div><div class="ttdoc">Breakdown counter. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00158">ride_type.h:158</a></div></div>
<div class="ttc" id="classRideInstance_html_ad0728a2508f08be469570d981b3ba561"><div class="ttname"><a href="classRideInstance.html#ad0728a2508f08be469570d981b3ba561">RideInstance::BuildRide</a></div><div class="ttdeci">void BuildRide()</div><div class="ttdoc">Switch the ride to being constructed. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00358">ride_type.cpp:358</a></div></div>
<div class="ttc" id="classRideType_html_a36a1104cf147e79edb48d1f5779f3ce0"><div class="ttname"><a href="classRideType.html#a36a1104cf147e79edb48d1f5779f3ce0">RideType::str_description</a></div><div class="ttdeci">StringID str_description</div><div class="ttdoc">String with the description of the ride type. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00092">ride_type.h:92</a></div></div>
<div class="ttc" id="group__map__group_html_gae1beaf14b9effb4a54e82830c7b36616"><div class="ttname"><a href="group__map__group.html#gae1beaf14b9effb4a54e82830c7b36616">_world</a></div><div class="ttdeci">VoxelWorld _world</div><div class="ttdoc">The game world. </div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00027">map.cpp:27</a></div></div>
<div class="ttc" id="classRideType_html_ac6d03d2147da82c3c56b41ed6a2feba1"><div class="ttname"><a href="classRideType.html#ac6d03d2147da82c3c56b41ed6a2feba1">RideType::monthly_open_cost</a></div><div class="ttdeci">Money monthly_open_cost</div><div class="ttdoc">Monthly extra costs if the ride is opened. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00075">ride_type.h:75</a></div></div>
<div class="ttc" id="ride__type_8h_html_a4cf3c03a141e04aea3c805a9e97f1835"><div class="ttname"><a href="ride__type_8h.html#a4cf3c03a141e04aea3c805a9e97f1835">INVALID_RIDE_INSTANCE</a></div><div class="ttdeci">static const uint16 INVALID_RIDE_INSTANCE</div><div class="ttdoc">Value representing &#39;no ride instance found&#39;. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00021">ride_type.h:21</a></div></div>
<div class="ttc" id="ride__type_8h_html_aa45d92b6242a5e33751fac9a278eff78aac0f9572dacce40864e9b8f600d4af0d"><div class="ttname"><a href="ride__type_8h.html#aa45d92b6242a5e33751fac9a278eff78aac0f9572dacce40864e9b8f600d4af0d">RIS_CLOSED</a></div><div class="ttdoc">Ride instance is available, but closed for the public. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00100">ride_type.h:100</a></div></div>
<div class="ttc" id="classRidesManager_html"><div class="ttname"><a href="classRidesManager.html">RidesManager</a></div><div class="ttdoc">Storage of available ride types. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00169">ride_type.h:169</a></div></div>
<div class="ttc" id="ride__type_8h_html_ad459ed82ff6dba2328daa812aad56f03a1a88afcb692b3d7c6c13960733ec457d"><div class="ttname"><a href="ride__type_8h.html#ad459ed82ff6dba2328daa812aad56f03a1a88afcb692b3d7c6c13960733ec457d">RIF_MONTHLY_PAID</a></div><div class="ttdoc">Bit number of the flags indicating the monthly presence costs have been paid. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00106">ride_type.h:106</a></div></div>
<div class="ttc" id="stdafx_8h_html"><div class="ttname"><a href="stdafx_8h.html">stdafx.h</a></div><div class="ttdoc">Common type and macro definitions. </div></div>
<div class="ttc" id="ride__type_8h_html_a2e6c1ccbeb17fd700078bbb37d25ba96"><div class="ttname"><a href="ride__type_8h.html#a2e6c1ccbeb17fd700078bbb37d25ba96">BREAKDOWN_GRACE_PERIOD</a></div><div class="ttdeci">static const int BREAKDOWN_GRACE_PERIOD</div><div class="ttdoc">Number of days to wait before random breakdowns after first time opening ride. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00025">ride_type.h:25</a></div></div>
<div class="ttc" id="finances_8h_html"><div class="ttname"><a href="finances_8h.html">finances.h</a></div><div class="ttdoc">Definition of finances of the park. </div></div>
<div class="ttc" id="map_8h_html_ad107e1bcd4b496ccf8b24ca7b68f4f68"><div class="ttname"><a href="map_8h.html#ad107e1bcd4b496ccf8b24ca7b68f4f68">IsVoxelstackInsideWorld</a></div><div class="ttdeci">static bool IsVoxelstackInsideWorld(int x, int y)</div><div class="ttdoc">Is the given world voxelstack coordinate within the world boundaries? </div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00653">map.h:653</a></div></div>
<div class="ttc" id="classRideInstance_html_a2cc013af20eae2fa34f05535d4c645b3"><div class="ttname"><a href="classRideInstance.html#a2cc013af20eae2fa34f05535d4c645b3">RideInstance::item_price</a></div><div class="ttdeci">Money item_price[NUMBER_ITEM_TYPES_SOLD]</div><div class="ttdoc">Selling price of each item type. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00155">ride_type.h:155</a></div></div>
<div class="ttc" id="ride__type_8h_html_a7920a38ef1d6024ec5d65be22d0c3d6e"><div class="ttname"><a href="ride__type_8h.html#a7920a38ef1d6024ec5d65be22d0c3d6e">RideTypeKind</a></div><div class="ttdeci">RideTypeKind</div><div class="ttdoc">Kinds of ride types. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00033">ride_type.h:33</a></div></div>
<div class="ttc" id="structVoxel_html"><div class="ttname"><a href="structVoxel.html">Voxel</a></div><div class="ttdoc">One voxel cell in the world. </div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00063">map.h:63</a></div></div>
<div class="ttc" id="classRideInstance_html_add13524a480df7c50acbb55f2a23d918"><div class="ttname"><a href="classRideInstance.html#add13524a480df7c50acbb55f2a23d918">RideInstance::state</a></div><div class="ttdeci">uint8 state</div><div class="ttdoc">State of the instance. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00149">ride_type.h:149</a></div></div>
<div class="ttc" id="classRandom_html_a05fa6c79dfd3d10b966a87142bb2e97a"><div class="ttname"><a href="classRandom.html#a05fa6c79dfd3d10b966a87142bb2e97a">Random::Exponential</a></div><div class="ttdeci">uint16 Exponential(uint16 mean)</div><div class="ttdoc">Draw a number from an exponential distribution. </div><div class="ttdef"><b>Definition:</b> <a href="random_8cpp_source.html#l00046">random.cpp:46</a></div></div>
<div class="ttc" id="language_8h_html"><div class="ttname"><a href="language_8h.html">language.h</a></div><div class="ttdoc">Language support. </div></div>
<div class="ttc" id="language_8h_html_ad036a1e65b4bdd8fae40d77d7324512aa942647b68e5a28d558a5453961acc5f2"><div class="ttname"><a href="language_8h.html#ad036a1e65b4bdd8fae40d77d7324512aa942647b68e5a28d558a5453961acc5f2">STR_INVALID</a></div><div class="ttdoc">Invalid string. </div><div class="ttdef"><b>Definition:</b> <a href="language_8h_source.html#l00055">language.h:55</a></div></div>
<div class="ttc" id="classRidesManager_html_a805df5bbe0b4246539d251c0de30a058"><div class="ttname"><a href="classRidesManager.html#a805df5bbe0b4246539d251c0de30a058">RidesManager::OnAnimate</a></div><div class="ttdeci">void OnAnimate(int delay)</div><div class="ttdoc">Some time has passed, update the state of the rides. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00381">ride_type.cpp:381</a></div></div>
<div class="ttc" id="classRideType_html_a347a42645a2d2d71501f52c38befe7af"><div class="ttname"><a href="classRideType.html#a347a42645a2d2d71501f52c38befe7af">RideType::str_end</a></div><div class="ttdeci">StringID str_end</div><div class="ttdoc">One beyond the last string in the ride type. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00090">ride_type.h:90</a></div></div>
<div class="ttc" id="group__map__group_html_ga29bb8f9503c34074bad3c762c92ee68b"><div class="ttname"><a href="group__map__group.html#ga29bb8f9503c34074bad3c762c92ee68b">TileEdge</a></div><div class="ttdeci">TileEdge</div><div class="ttdoc">Edges of a tile, starts at NE direction, and rotates clockwise. </div><div class="ttdef"><b>Definition:</b> <a href="tile_8h_source.html#l00117">tile.h:117</a></div></div>
<div class="ttc" id="classRideInstance_html_a2b2f31c567df029ae5e6c90ffbb5a37c"><div class="ttname"><a href="classRideInstance.html#a2b2f31c567df029ae5e6c90ffbb5a37c">RideInstance::CanBeVisited</a></div><div class="ttdeci">bool CanBeVisited(uint16 xvox, uint16 yvox, uint8 zvox, TileEdge edge) const </div><div class="ttdoc">Can the ride be visited, assuming the shop is approached from direction edge? </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00208">ride_type.cpp:208</a></div></div>
<div class="ttc" id="classRideInstance_html_af9f31b160422660a6c14b281655db97a"><div class="ttname"><a href="classRideInstance.html#af9f31b160422660a6c14b281655db97a">RideInstance::GetSaleItemPrice</a></div><div class="ttdeci">Money GetSaleItemPrice(int item_index) const </div><div class="ttdoc">Get the price of an item sold by a ride. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00248">ride_type.cpp:248</a></div></div>
<div class="ttc" id="classRideInstance_html_a7268317ec7b9e3d707f75267ec85db57"><div class="ttname"><a href="classRideInstance.html#a7268317ec7b9e3d707f75267ec85db57">RideInstance::flags</a></div><div class="ttdeci">uint8 flags</div><div class="ttdoc">Flags of the instance. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00150">ride_type.h:150</a></div></div>
<div class="ttc" id="classRideInstance_html_a1d42a36c633f563526bc78f6cae28b7d"><div class="ttname"><a href="classRideInstance.html#a1d42a36c633f563526bc78f6cae28b7d">RideInstance::GetSaleItemType</a></div><div class="ttdeci">ItemType GetSaleItemType(int item_index) const </div><div class="ttdoc">Get the type of items sold by a ride. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00237">ride_type.cpp:237</a></div></div>
<div class="ttc" id="classRideInstance_html_ae5a40793161b5ec2264bae87094bb077"><div class="ttname"><a href="classRideInstance.html#ae5a40793161b5ec2264bae87094bb077">RideInstance::CloseRide</a></div><div class="ttdeci">void CloseRide()</div><div class="ttdoc">Close the ride for the public. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00349">ride_type.cpp:349</a></div></div>
<div class="ttc" id="sprite__store_8h_html"><div class="ttname"><a href="sprite__store_8h.html">sprite_store.h</a></div><div class="ttdoc">Sprite storage data structure. </div></div>
<div class="ttc" id="fileio_8h_html"><div class="ttname"><a href="fileio_8h.html">fileio.h</a></div><div class="ttdoc">File IO declarations. </div></div>
<div class="ttc" id="ride__type_8cpp_html_ad0197331de2c07730a513a74574121d7"><div class="ttname"><a href="ride__type_8cpp.html#ad0197331de2c07730a513a74574121d7">RideExistsAtBottom</a></div><div class="ttdeci">const RideInstance * RideExistsAtBottom(int xpos, int ypos, int zpos, TileEdge edge)</div><div class="ttdoc">Does a ride entrance exists at/to the bottom the given voxel in the neighbouring voxel? </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00597">ride_type.cpp:597</a></div></div>
<div class="ttc" id="classRideType_html_ab17e8ab845081de4841a2040e9e0f35d"><div class="ttname"><a href="classRideType.html#ab17e8ab845081de4841a2040e9e0f35d">RideType::GetTypeDescription</a></div><div class="ttdeci">StringID GetTypeDescription() const </div><div class="ttdoc">Retrieve the string with the description of this type of ride. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00124">ride_type.cpp:124</a></div></div>
<div class="ttc" id="classRideInstance_html_a7454652c60d5406a0d13472f6cc74698"><div class="ttname"><a href="classRideInstance.html#a7454652c60d5406a0d13472f6cc74698">RideInstance::total_profit</a></div><div class="ttdeci">Money total_profit</div><div class="ttdoc">Total profit of the ride. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00153">ride_type.h:153</a></div></div>
<div class="ttc" id="classRideInstance_html_a68bbc9eabf094b84b9c1eef712f0ea28"><div class="ttname"><a href="classRideInstance.html#a68bbc9eabf094b84b9c1eef712f0ea28">RideInstance::reliability</a></div><div class="ttdeci">uint16 reliability</div><div class="ttdoc">Mean number of days in between breakdowns. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00159">ride_type.h:159</a></div></div>
<div class="ttc" id="classFinancesManager_html_aef290e7b899a4da7cbf7ac7ab0d1fda5"><div class="ttname"><a href="classFinancesManager.html#aef290e7b899a4da7cbf7ac7ab0d1fda5">FinancesManager::EarnShopSales</a></div><div class="ttdeci">void EarnShopSales(const Money &amp;m)</div><div class="ttdoc">Access method for monthly transactions. </div><div class="ttdef"><b>Definition:</b> <a href="finances_8h_source.html#l00200">finances.h:200</a></div></div>
<div class="ttc" id="ride__type_8h_html_aa45d92b6242a5e33751fac9a278eff78acc2c1f157730bc604b92fe344608df5d"><div class="ttname"><a href="ride__type_8h.html#aa45d92b6242a5e33751fac9a278eff78acc2c1f157730bc604b92fe344608df5d">RIS_ALLOCATED</a></div><div class="ttdoc">Ride instance is allocated but not yet in play. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00097">ride_type.h:97</a></div></div>
<div class="ttc" id="language_8h_html_ac1457acec7f744ff89fd1be295092a4b"><div class="ttname"><a href="language_8h.html#ac1457acec7f744ff89fd1be295092a4b">StringID</a></div><div class="ttdeci">uint16 StringID</div><div class="ttdoc">Type of a string value. </div><div class="ttdef"><b>Definition:</b> <a href="language_8h_source.html#l00062">language.h:62</a></div></div>
<div class="ttc" id="group__window__group_html_gga58ad3159a8b1f24a1d3497efcd541b69a177e9f3bb0f5524d3191053517bd2a73"><div class="ttname"><a href="group__window__group.html#gga58ad3159a8b1f24a1d3497efcd541b69a177e9f3bb0f5524d3191053517bd2a73">WC_SHOP_MANAGER</a></div><div class="ttdoc">Management window of a shop. </div><div class="ttdef"><b>Definition:</b> <a href="window_8h_source.html#l00051">window.h:51</a></div></div>
<div class="ttc" id="ride__type_8h_html_a8858bf5173c06c00741c0990189cdc6dad3e85e9912d8e6a38de772e1a5a98557"><div class="ttname"><a href="ride__type_8h.html#a8858bf5173c06c00741c0990189cdc6dad3e85e9912d8e6a38de772e1a5a98557">BDS_NEEDS_NEW_CTR</a></div><div class="ttdoc">Ride needs a new value for RideInstance::breakdown_ctr. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00114">ride_type.h:114</a></div></div>
<div class="ttc" id="classRideInstance_html_ad32ec17efa670e1440bbc7774e93ff70"><div class="ttname"><a href="classRideInstance.html#ad32ec17efa670e1440bbc7774e93ff70">RideInstance::SellItem</a></div><div class="ttdeci">void SellItem(int item_index)</div><div class="ttdoc">Sell an item to a customer. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00218">ride_type.cpp:218</a></div></div>
<div class="ttc" id="classRideInstance_html_abd195952fcc3193d1befa1871d9c18eb"><div class="ttname"><a href="classRideInstance.html#abd195952fcc3193d1befa1871d9c18eb">RideInstance::OnAnimate</a></div><div class="ttdeci">virtual void OnAnimate(int delay)</div><div class="ttdoc">Some time has passed, update the state of the ride. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00258">ride_type.cpp:258</a></div></div>
<div class="ttc" id="window_8cpp_html_a4e83041d9bb7c20fe3f7e8e389b2b416"><div class="ttname"><a href="window_8cpp.html#a4e83041d9bb7c20fe3f7e8e389b2b416">NotifyChange</a></div><div class="ttdeci">void NotifyChange(WindowTypes wtype, WindowNumber wnumber, ChangeCode code, uint32 parameter)</div><div class="ttdoc">Notify the window of the given type of the change with the specified number. </div><div class="ttdef"><b>Definition:</b> <a href="window_8cpp_source.html#l01043">window.cpp:1043</a></div></div>
<div class="ttc" id="classRidesManager_html_a45ba6ebff60ebb390c99febe5dd1e231"><div class="ttname"><a href="classRidesManager.html#a45ba6ebff60ebb390c99febe5dd1e231">RidesManager::GetFreeInstance</a></div><div class="ttdeci">uint16 GetFreeInstance(const RideType *type)</div><div class="ttdoc">Check whether the ride type can actually be created. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00466">ride_type.cpp:466</a></div></div>
<div class="ttc" id="classRideInstance_html_a1d78c57c48c6b66ea1a6a3bf8d5fd3ce"><div class="ttname"><a href="classRideInstance.html#a1d78c57c48c6b66ea1a6a3bf8d5fd3ce">RideInstance::GetIndex</a></div><div class="ttdeci">uint16 GetIndex() const </div><div class="ttdoc">Get the ride instance index number. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00437">ride_type.cpp:437</a></div></div>
<div class="ttc" id="classRidesManager_html_acfc250879e897a131440669337542364"><div class="ttname"><a href="classRidesManager.html#acfc250879e897a131440669337542364">RidesManager::OnNewDay</a></div><div class="ttdeci">void OnNewDay()</div><div class="ttdoc">A new day has started; break rides randomly. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00399">ride_type.cpp:399</a></div></div>
<div class="ttc" id="classRideType_html"><div class="ttname"><a href="classRideType.html">RideType</a></div><div class="ttdoc">Base class of ride types. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00064">ride_type.h:64</a></div></div>
<div class="ttc" id="classRideType_html_a89f8e7b791181633abdbe18ccbd61f9b"><div class="ttname"><a href="classRideType.html#a89f8e7b791181633abdbe18ccbd61f9b">RideType::text</a></div><div class="ttdeci">TextData * text</div><div class="ttdoc">Strings of the ride type. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00087">ride_type.h:87</a></div></div>
<div class="ttc" id="classRideType_html_a1a026cc977a8980238ae40cf2dac50d3"><div class="ttname"><a href="classRideType.html#a1a026cc977a8980238ae40cf2dac50d3">RideType::str_start</a></div><div class="ttdeci">StringID str_start</div><div class="ttdoc">First string in the ride type. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00089">ride_type.h:89</a></div></div>
<div class="ttc" id="stdafx_8h_html_adde6aaee8457bee49c2a92621fe22b79"><div class="ttname"><a href="stdafx_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a></div><div class="ttdeci">unsigned char uint8</div><div class="ttdoc">Unsigned 8 bit wide data type. </div><div class="ttdef"><b>Definition:</b> <a href="stdafx_8h_source.html#l00130">stdafx.h:130</a></div></div>
<div class="ttc" id="classRideInstance_html_a70d81828daa0ca29719c61b57bb9254c"><div class="ttname"><a href="classRideInstance.html#a70d81828daa0ca29719c61b57bb9254c">RideInstance::item_count</a></div><div class="ttdeci">int64 item_count[NUMBER_ITEM_TYPES_SOLD]</div><div class="ttdoc">Number of items sold for each type. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00156">ride_type.h:156</a></div></div>
<div class="ttc" id="classRideInstance_html_a5be93628b521928436153c9aaee97338"><div class="ttname"><a href="classRideInstance.html#a5be93628b521928436153c9aaee97338">RideInstance::total_sell_profit</a></div><div class="ttdeci">Money total_sell_profit</div><div class="ttdoc">Profit of selling items. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00154">ride_type.h:154</a></div></div>
<div class="ttc" id="classRideType_html_af467932b8b7d044ffb4fcbd1cbe703bf"><div class="ttname"><a href="classRideType.html#af467932b8b7d044ffb4fcbd1cbe703bf">RideType::CreateInstance</a></div><div class="ttdeci">virtual RideInstance * CreateInstance() const =0</div><div class="ttdoc">Construct a ride instance of the ride type. </div></div>
<div class="ttc" id="ride__type_8h_html_a7920a38ef1d6024ec5d65be22d0c3d6ea601a3d6676990bba5aa8efaf582f5bad"><div class="ttname"><a href="ride__type_8h.html#a7920a38ef1d6024ec5d65be22d0c3d6ea601a3d6676990bba5aa8efaf582f5bad">RTK_SHOP</a></div><div class="ttdoc">Ride type allows buying useful stuff. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00034">ride_type.h:34</a></div></div>
<div class="ttc" id="classRideInstance_html_af187b2634a24756124d414639344a50f"><div class="ttname"><a href="classRideInstance.html#af187b2634a24756124d414639344a50f">RideInstance::GetKind</a></div><div class="ttdeci">RideTypeKind GetKind() const </div><div class="ttdoc">Get the kind of the ride. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00169">ride_type.cpp:169</a></div></div>
<div class="ttc" id="ride__type_8h_html_a8858bf5173c06c00741c0990189cdc6daace28728dc681573e7a9efde3d7a195b"><div class="ttname"><a href="ride__type_8h.html#a8858bf5173c06c00741c0990189cdc6daace28728dc681573e7a9efde3d7a195b">BDS_BROKEN</a></div><div class="ttdoc">Ride is currently broken. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00112">ride_type.h:112</a></div></div>
<div class="ttc" id="classRideType_html_a22cfc2a4de8a4e3f2512d21a01ab29c6"><div class="ttname"><a href="classRideType.html#a22cfc2a4de8a4e3f2512d21a01ab29c6">RideType::GetInstanceNames</a></div><div class="ttdeci">virtual const StringID * GetInstanceNames() const =0</div><div class="ttdoc">Get the instance base names of rides. </div></div>
<div class="ttc" id="map_8h_html_ada9f0c1420f66f999469d82ef2262280ae3bfbce4590e9566985d32b115b851d7"><div class="ttname"><a href="map_8h.html#ada9f0c1420f66f999469d82ef2262280ae3bfbce4590e9566985d32b115b851d7">SRI_FULL_RIDES</a></div><div class="ttdoc">First ride instance number for normal rides (created and stored in RidesManager). ...</div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00045">map.h:45</a></div></div>
<div class="ttc" id="classRideType_html_acf5f7d1b00f5303570472b4c178433b2"><div class="ttname"><a href="classRideType.html#acf5f7d1b00f5303570472b4c178433b2">RideType::kind</a></div><div class="ttdeci">const RideTypeKind kind</div><div class="ttdoc">Kind of ride type. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00073">ride_type.h:73</a></div></div>
<div class="ttc" id="classRidesManager_html_a2ccdd8dae32ee0224ac2db838928c28b"><div class="ttname"><a href="classRidesManager.html#a2ccdd8dae32ee0224ac2db838928c28b">RidesManager::ride_types</a></div><div class="ttdeci">const RideType * ride_types[MAX_NUMBER_OF_RIDE_TYPES]</div><div class="ttdoc">Loaded types of rides. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00201">ride_type.h:201</a></div></div>
<div class="ttc" id="structVoxel_html_a78ee7c8c8e8e62d18733aed8c28cba56"><div class="ttname"><a href="structVoxel.html#a78ee7c8c8e8e62d18733aed8c28cba56">Voxel::GetInstance</a></div><div class="ttdeci">SmallRideInstance GetInstance() const </div><div class="ttdoc">Get the ride instance at this voxel. </div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00072">map.h:72</a></div></div>
<div class="ttc" id="string__func_8cpp_html_aea2981466a89290dc408f8769d3bee01"><div class="ttname"><a href="string__func_8cpp.html#aea2981466a89290dc408f8769d3bee01">StrEqual</a></div><div class="ttdeci">bool StrEqual(const uint8 *s1, const uint8 *s2)</div><div class="ttdoc">Are the two strings equal? </div><div class="ttdef"><b>Definition:</b> <a href="string__func_8cpp_source.html#l00099">string_func.cpp:99</a></div></div>
<div class="ttc" id="map_8h_html"><div class="ttname"><a href="map_8h.html">map.h</a></div><div class="ttdoc">Definition of voxels in the world. </div></div>
<div class="ttc" id="ride__type_8h_html_a8858bf5173c06c00741c0990189cdc6da6a4bc3a2219e8bea6d23a6720bc53f50"><div class="ttname"><a href="ride__type_8h.html#a8858bf5173c06c00741c0990189cdc6da6a4bc3a2219e8bea6d23a6720bc53f50">BDS_UNOPENED</a></div><div class="ttdoc">The ride has never been opened and thus is immune from breakdown. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00115">ride_type.h:115</a></div></div>
<div class="ttc" id="classRideInstance_html_a066964b97ccda15132eddb8fd6a7aace"><div class="ttname"><a href="classRideInstance.html#a066964b97ccda15132eddb8fd6a7aace">RideInstance::HandleBreakdown</a></div><div class="ttdeci">void HandleBreakdown()</div><div class="ttdoc">Handle breakdowns of rides. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00286">ride_type.cpp:286</a></div></div>
<div class="ttc" id="classRideInstance_html_a8bf8312ed4d9a642f1729f06044cf347"><div class="ttname"><a href="classRideInstance.html#a8bf8312ed4d9a642f1729f06044cf347">RideInstance::GetRideType</a></div><div class="ttdeci">const RideType * GetRideType() const </div><div class="ttdoc">Get the ride type of the instance. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00178">ride_type.cpp:178</a></div></div>
<div class="ttc" id="ride__type_8h_html_ad459ed82ff6dba2328daa812aad56f03aef74233ccbcf586cd189a080cfcd32d1"><div class="ttname"><a href="ride__type_8h.html#ad459ed82ff6dba2328daa812aad56f03aef74233ccbcf586cd189a080cfcd32d1">RIF_OPENED_PAID</a></div><div class="ttdoc">Bit number of the flags indicating the open costs have been paid this month. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00107">ride_type.h:107</a></div></div>
<div class="ttc" id="classRideInstance_html_a441b6d235c54521dee3251c3536c18ae"><div class="ttname"><a href="classRideInstance.html#a441b6d235c54521dee3251c3536c18ae">RideInstance::rnd</a></div><div class="ttdeci">Random rnd</div><div class="ttdoc">Random number generator for determining ride breakage. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00165">ride_type.h:165</a></div></div>
<div class="ttc" id="classMoney_html"><div class="ttname"><a href="classMoney.html">Money</a></div><div class="ttdoc">Overflow safe integer you multiply the maximum value with 2, or add 2, or subtract something from the...</div><div class="ttdef"><b>Definition:</b> <a href="money_8h_source.html#l00024">money.h:24</a></div></div>
<div class="ttc" id="classRideType_html_a7ffa6cbcc4f38daed727cf44bab8fb29"><div class="ttname"><a href="classRideType.html#a7ffa6cbcc4f38daed727cf44bab8fb29">RideType::item_type</a></div><div class="ttdeci">ItemType item_type[NUMBER_ITEM_TYPES_SOLD]</div><div class="ttdoc">Type of items being sold. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00076">ride_type.h:76</a></div></div>
<div class="ttc" id="classRideInstance_html_ad022ba9e0f01e8575c505a9fd9288dc1"><div class="ttname"><a href="classRideInstance.html#ad022ba9e0f01e8575c505a9fd9288dc1">RideInstance::recolours</a></div><div class="ttdeci">Recolouring recolours</div><div class="ttdoc">Recolour map of the instance. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00151">ride_type.h:151</a></div></div>
<div class="ttc" id="classRideType_html_a59b58992271c0a0d94fa6a484446f1f8"><div class="ttname"><a href="classRideType.html#a59b58992271c0a0d94fa6a484446f1f8">RideType::SetupStrings</a></div><div class="ttdeci">void SetupStrings(TextData *text, StringID base, StringID start, StringID end, StringID name, StringID desc)</div><div class="ttdoc">Setup the the strings of the ride type. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00101">ride_type.cpp:101</a></div></div>
<div class="ttc" id="gamelevel_8h_html"><div class="ttname"><a href="gamelevel_8h.html">gamelevel.h</a></div><div class="ttdoc">Game level. </div></div>
<div class="ttc" id="classRidesManager_html_a3fdb430b1d11c1d32d116d6e36531e7a"><div class="ttname"><a href="classRidesManager.html#a3fdb430b1d11c1d32d116d6e36531e7a">RidesManager::instances</a></div><div class="ttdeci">RideInstance * instances[MAX_NUMBER_OF_RIDE_INSTANCES]</div><div class="ttdoc">Rides available in the park. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00202">ride_type.h:202</a></div></div>
<div class="ttc" id="bitmath_8h_html_aa017116a7fddd59bc588d2b927c4854d"><div class="ttname"><a href="bitmath_8h.html#aa017116a7fddd59bc588d2b927c4854d">GB</a></div><div class="ttdeci">static uint GB(const T x, const uint8 s, const uint8 n)</div><div class="ttdoc">Fetch n bits from x, started at bit s. </div><div class="ttdef"><b>Definition:</b> <a href="bitmath_8h_source.html#l00034">bitmath.h:34</a></div></div>
<div class="ttc" id="classRideInstance_html_a4626c77b02bf9aeb123a13dfcf61bbd4"><div class="ttname"><a href="classRideInstance.html#a4626c77b02bf9aeb123a13dfcf61bbd4">RideInstance::breakdown_state</a></div><div class="ttdeci">BreakdownState breakdown_state</div><div class="ttdoc">Breakdown state for the ride. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00160">ride_type.h:160</a></div></div>
<div class="ttc" id="stdafx_8h_html_ae72e6e2ae552a721f8916813a92f723b"><div class="ttname"><a href="stdafx_8h.html#ae72e6e2ae552a721f8916813a92f723b">lengthof</a></div><div class="ttdeci">#define lengthof(x)</div><div class="ttdoc">Return the length of an fixed size array. </div><div class="ttdef"><b>Definition:</b> <a href="stdafx_8h_source.html#l00157">stdafx.h:157</a></div></div>
<div class="ttc" id="stdafx_8h_html_a91ad9478d81a7aaf2593e8d9c3d06a14"><div class="ttname"><a href="stdafx_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a></div><div class="ttdeci">unsigned int uint</div><div class="ttdoc">Unsigned integer data type. </div><div class="ttdef"><b>Definition:</b> <a href="stdafx_8h_source.html#l00119">stdafx.h:119</a></div></div>
<div class="ttc" id="language_8cpp_html_afc2b7b9cfc7418dd7361eaf223510299"><div class="ttname"><a href="language_8cpp.html#afc2b7b9cfc7418dd7361eaf223510299">DrawText</a></div><div class="ttdeci">void DrawText(StringID strid, uint8 *buffer, uint length, StringParameters *params)</div><div class="ttdoc">Draw the string into the supplied buffer. </div><div class="ttdef"><b>Definition:</b> <a href="language_8cpp_source.html#l00393">language.cpp:393</a></div></div>
<div class="ttc" id="random_8h_html"><div class="ttname"><a href="random_8h.html">random.h</a></div><div class="ttdoc">Random number generator. </div></div>
<div class="ttc" id="classRidesManager_html_aeaa33852526a740190bf42f670d0abd4"><div class="ttname"><a href="classRidesManager.html#aeaa33852526a740190bf42f670d0abd4">RidesManager::DeleteInstance</a></div><div class="ttdeci">void DeleteInstance(uint16 num)</div><div class="ttdoc">Destroy the indicated instance. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00568">ride_type.cpp:568</a></div></div>
<div class="ttc" id="classRidesManager_html_acebb8b3f4cfde5ad8fce8155cc9bbd1d"><div class="ttname"><a href="classRidesManager.html#acebb8b3f4cfde5ad8fce8155cc9bbd1d">RidesManager::CheckNoAllocatedRides</a></div><div class="ttdeci">void CheckNoAllocatedRides() const </div><div class="ttdoc">Check that no rides are under construction at the moment of calling. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00581">ride_type.cpp:581</a></div></div>
<div class="ttc" id="classRideInstance_html_a0a7b0f52dbe935f77556f95a81f5cb2e"><div class="ttname"><a href="classRideInstance.html#a0a7b0f52dbe935f77556f95a81f5cb2e">RideInstance::GetEntranceDirections</a></div><div class="ttdeci">virtual uint8 GetEntranceDirections(uint16 xvox, uint16 yvox, uint8 zvox) const =0</div><div class="ttdoc">Get the set edges with an entrance to the ride. </div></div>
<div class="ttc" id="classRideInstance_html_a85940fca67549880bfb814e42779da0f"><div class="ttname"><a href="classRideInstance.html#a85940fca67549880bfb814e42779da0f">RideInstance::OnNewDay</a></div><div class="ttdeci">void OnNewDay()</div><div class="ttdoc">Daily update of breakages and maintenance. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00280">ride_type.cpp:280</a></div></div>
<div class="ttc" id="classRidesManager_html_a6c0058e7e1b495226cf4e45c47630ea5"><div class="ttname"><a href="classRidesManager.html#a6c0058e7e1b495226cf4e45c47630ea5">RidesManager::FindRideByName</a></div><div class="ttdeci">RideInstance * FindRideByName(const uint8 *name)</div><div class="ttdoc">Check whether a ride exists with the given name. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00496">ride_type.cpp:496</a></div></div>
<div class="ttc" id="structPoint_html_a56c3dcea91f03182921eea9a5cf555a3"><div class="ttname"><a href="structPoint.html#a56c3dcea91f03182921eea9a5cf555a3">Point::y</a></div><div class="ttdeci">CT y</div><div class="ttdoc">Y coordinate. </div><div class="ttdef"><b>Definition:</b> <a href="geometry_8h_source.html#l00038">geometry.h:38</a></div></div>
<div class="ttc" id="classRideInstance_html_abb23dad5d58bc2798ff3834b6852ffbf"><div class="ttname"><a href="classRideInstance.html#abb23dad5d58bc2798ff3834b6852ffbf">RideInstance::RideInstance</a></div><div class="ttdeci">RideInstance(const RideType *rt)</div><div class="ttdoc">Constructor of the base ride instance class. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00144">ride_type.cpp:144</a></div></div>
<div class="ttc" id="classTextData_html"><div class="ttname"><a href="classTextData.html">TextData</a></div><div class="ttdoc">Texts of objects. </div><div class="ttdef"><b>Definition:</b> <a href="sprite__store_8h_source.html#l00044">sprite_store.h:44</a></div></div>
<div class="ttc" id="ride__type_8h_html_a443f647757dde85043b49343f5cbe66b"><div class="ttname"><a href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66b">ItemType</a></div><div class="ttdeci">ItemType</div><div class="ttdoc">Type of items that can be bought. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00053">ride_type.h:53</a></div></div>
<div class="ttc" id="classRideType_html_af0934af452c487e044af57bd7369efe3"><div class="ttname"><a href="classRideType.html#af0934af452c487e044af57bd7369efe3">RideType::monthly_cost</a></div><div class="ttdeci">Money monthly_cost</div><div class="ttdoc">Monthly costs for owning a ride. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00074">ride_type.h:74</a></div></div>
<div class="ttc" id="classRidesManager_html_a8e368759cff2cd27366b7b9f4b2cd648"><div class="ttname"><a href="classRidesManager.html#a8e368759cff2cd27366b7b9f4b2cd648">RidesManager::NewInstanceAdded</a></div><div class="ttdeci">void NewInstanceAdded(uint16 num)</div><div class="ttdoc">A new ride instance was added. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00509">ride_type.cpp:509</a></div></div>
<div class="ttc" id="ride__type_8h_html_a7920a38ef1d6024ec5d65be22d0c3d6eaada35e5165e40de4c1c47ca5fe0a4da2"><div class="ttname"><a href="ride__type_8h.html#a7920a38ef1d6024ec5d65be22d0c3d6eaada35e5165e40de4c1c47ca5fe0a4da2">RTK_COASTER</a></div><div class="ttdoc">Ride type is a coaster. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00037">ride_type.h:37</a></div></div>
<div class="ttc" id="window_8h_html_aab6fa040b57445f74c311c245079e741ab19bc71581a6b4e1daabe96c82fcd168"><div class="ttname"><a href="window_8h.html#aab6fa040b57445f74c311c245079e741ab19bc71581a6b4e1daabe96c82fcd168">CHG_DISPLAY_OLD</a></div><div class="ttdoc">Displayed data is old. </div><div class="ttdef"><b>Definition:</b> <a href="window_8h_source.html#l00066">window.h:66</a></div></div>
<div class="ttc" id="stdafx_8h_html_a6c2edf1e500e498b687567418bf4fef6"><div class="ttname"><a href="stdafx_8h.html#a6c2edf1e500e498b687567418bf4fef6">NOT_REACHED</a></div><div class="ttdeci">#define NOT_REACHED()</div><div class="ttdoc">Macro for reporting reaching an &#39;impossible&#39; position in the code. </div><div class="ttdef"><b>Definition:</b> <a href="stdafx_8h_source.html#l00182">stdafx.h:182</a></div></div>
<div class="ttc" id="tile_8h_html_aab8ddb59473b78057c550ca54ac16a5a"><div class="ttname"><a href="tile_8h.html#aab8ddb59473b78057c550ca54ac16a5a">_tile_dxy</a></div><div class="ttdeci">const Point16 _tile_dxy[EDGE_COUNT]</div><div class="ttdoc">Tile dx/dy of the tile connected to the given edge. </div><div class="ttdef"><b>Definition:</b> <a href="tile__func_8cpp_source.html#l00032">tile_func.cpp:32</a></div></div>
<div class="ttc" id="classRideInstance_html"><div class="ttname"><a href="classRideInstance.html">RideInstance</a></div><div class="ttdoc">A ride in the park. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00122">ride_type.h:122</a></div></div>
<div class="ttc" id="classRidesManager_html_a35c05ae060e85fb6df7a7220cd282384"><div class="ttname"><a href="classRidesManager.html#a35c05ae060e85fb6df7a7220cd282384">RidesManager::CreateInstance</a></div><div class="ttdeci">RideInstance * CreateInstance(const RideType *type, uint16 num)</div><div class="ttdoc">Create a new ride instance. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00481">ride_type.cpp:481</a></div></div>
<div class="ttc" id="classRideType_html_a8358959a7c9cb59f7bc5cbc4a4bc6c90"><div class="ttname"><a href="classRideType.html#a8358959a7c9cb59f7bc5cbc4a4bc6c90">RideType::item_cost</a></div><div class="ttdeci">Money item_cost[NUMBER_ITEM_TYPES_SOLD]</div><div class="ttdoc">Cost of the items on sale. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00077">ride_type.h:77</a></div></div>
<div class="ttc" id="classRidesManager_html_abf47efc9de8b98f89429f321708c05b2"><div class="ttname"><a href="classRidesManager.html#abf47efc9de8b98f89429f321708c05b2">RidesManager::RidesManager</a></div><div class="ttdeci">RidesManager()</div><div class="ttdoc">Default constructor of the rides manager. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00365">ride_type.cpp:365</a></div></div>
<div class="ttc" id="structPoint_html_af0836c7f2eec563aa7bc20d8cfa5dd2a"><div class="ttname"><a href="structPoint.html#af0836c7f2eec563aa7bc20d8cfa5dd2a">Point::x</a></div><div class="ttdeci">CT x</div><div class="ttdoc">X coordinate. </div><div class="ttdef"><b>Definition:</b> <a href="geometry_8h_source.html#l00037">geometry.h:37</a></div></div>
<div class="ttc" id="classRecolouring_html_a17a40a003d95c30db5d4c292235e8d6c"><div class="ttname"><a href="classRecolouring.html#a17a40a003d95c30db5d4c292235e8d6c">Recolouring::AssignRandomColours</a></div><div class="ttdeci">void AssignRandomColours()</div><div class="ttdoc">Select random destination colour ranges for the recolour entries. </div><div class="ttdef"><b>Definition:</b> <a href="palette_8cpp_source.html#l00145">palette.cpp:145</a></div></div>
<div class="ttc" id="ride__type_8h_html_aa45d92b6242a5e33751fac9a278eff78a6ca5073ccf98f0a97ce27e971bb9ca80"><div class="ttname"><a href="ride__type_8h.html#aa45d92b6242a5e33751fac9a278eff78a6ca5073ccf98f0a97ce27e971bb9ca80">RIS_BUILDING</a></div><div class="ttdoc">Ride instance is being constructed. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00098">ride_type.h:98</a></div></div>
<div class="ttc" id="ride__type_8h_html_aa45d92b6242a5e33751fac9a278eff78a4cf084e00636bad973c0d0e59147a813"><div class="ttname"><a href="ride__type_8h.html#aa45d92b6242a5e33751fac9a278eff78a4cf084e00636bad973c0d0e59147a813">RIS_OPEN</a></div><div class="ttdoc">Ride instance is open for use by the public. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00101">ride_type.h:101</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 5 2014 19:06:13 for FreeRCT by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
